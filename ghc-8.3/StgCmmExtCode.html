<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>StgCmmExtCode</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/StgCmmExtCode.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ghc-8.3: The GHC API</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">StgCmmExtCode</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Our extended FCode monad.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:CmmParse">CmmParse</a> a</li><li class="src short"><a href="#v:unEC">unEC</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a -&gt; <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="StgCmmExtCode.html#t:Env">Env</a> -&gt; Decls -&gt; <a href="StgCmmMonad.html#t:FCode">FCode</a> (Decls, a)</li><li class="src short"><span class="keyword">data</span> <a href="#t:Named">Named</a><ul class="subs"><li>= <a href="#v:VarN">VarN</a> <a href="CmmExpr.html#t:CmmExpr">CmmExpr</a></li><li>| <a href="#v:FunN">FunN</a> <a href="Module.html#t:UnitId">UnitId</a></li><li>| <a href="#v:LabelN">LabelN</a> <a href="BlockId.html#t:BlockId">BlockId</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:Env">Env</a> = <a href="UniqFM.html#t:UniqFM">UniqFM</a> <a href="StgCmmExtCode.html#t:Named">Named</a></li><li class="src short"><a href="#v:loopDecls">loopDecls</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a</li><li class="src short"><a href="#v:getEnv">getEnv</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> <a href="StgCmmExtCode.html#t:Env">Env</a></li><li class="src short"><a href="#v:withName">withName</a> :: <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a</li><li class="src short"><a href="#v:getName">getName</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> <a href="../base-4.10.0.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:newLocal">newLocal</a> :: <a href="CmmType.html#t:CmmType">CmmType</a> -&gt; <a href="FastString.html#t:FastString">FastString</a> -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> <a href="CmmExpr.html#t:LocalReg">LocalReg</a></li><li class="src short"><a href="#v:newLabel">newLabel</a> :: <a href="FastString.html#t:FastString">FastString</a> -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> <a href="BlockId.html#t:BlockId">BlockId</a></li><li class="src short"><a href="#v:newBlockId">newBlockId</a> :: <a href="UniqSupply.html#t:MonadUnique">MonadUnique</a> m =&gt; m <a href="BlockId.html#t:BlockId">BlockId</a></li><li class="src short"><a href="#v:newFunctionName">newFunctionName</a> :: <a href="FastString.html#t:FastString">FastString</a> -&gt; <a href="Module.html#t:UnitId">UnitId</a> -&gt; ExtCode</li><li class="src short"><a href="#v:newImport">newImport</a> :: (<a href="FastString.html#t:FastString">FastString</a>, <a href="CLabel.html#t:CLabel">CLabel</a>) -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> ()</li><li class="src short"><a href="#v:lookupLabel">lookupLabel</a> :: <a href="FastString.html#t:FastString">FastString</a> -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> <a href="BlockId.html#t:BlockId">BlockId</a></li><li class="src short"><a href="#v:lookupName">lookupName</a> :: <a href="FastString.html#t:FastString">FastString</a> -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> <a href="CmmExpr.html#t:CmmExpr">CmmExpr</a></li><li class="src short"><a href="#v:code">code</a> :: <a href="StgCmmMonad.html#t:FCode">FCode</a> a -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a</li><li class="src short"><a href="#v:emit">emit</a> :: <a href="MkGraph.html#t:CmmAGraph">CmmAGraph</a> -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> ()</li><li class="src short"><a href="#v:emitLabel">emitLabel</a> :: <a href="BlockId.html#t:BlockId">BlockId</a> -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> ()</li><li class="src short"><a href="#v:emitAssign">emitAssign</a> :: <a href="CmmExpr.html#t:CmmReg">CmmReg</a> -&gt; <a href="CmmExpr.html#t:CmmExpr">CmmExpr</a> -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> ()</li><li class="src short"><a href="#v:emitStore">emitStore</a> :: <a href="CmmExpr.html#t:CmmExpr">CmmExpr</a> -&gt; <a href="CmmExpr.html#t:CmmExpr">CmmExpr</a> -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> ()</li><li class="src short"><a href="#v:getCode">getCode</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> <a href="MkGraph.html#t:CmmAGraph">CmmAGraph</a></li><li class="src short"><a href="#v:getCodeR">getCodeR</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> (a, <a href="MkGraph.html#t:CmmAGraph">CmmAGraph</a>)</li><li class="src short"><a href="#v:getCodeScoped">getCodeScoped</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> (a, <a href="MkGraph.html#t:CmmAGraphScoped">CmmAGraphScoped</a>)</li><li class="src short"><a href="#v:emitOutOfLine">emitOutOfLine</a> :: <a href="BlockId.html#t:BlockId">BlockId</a> -&gt; <a href="MkGraph.html#t:CmmAGraphScoped">CmmAGraphScoped</a> -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> ()</li><li class="src short"><a href="#v:withUpdFrameOff">withUpdFrameOff</a> :: <a href="CmmNode.html#t:UpdFrameOffset">UpdFrameOffset</a> -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> () -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> ()</li><li class="src short"><a href="#v:getUpdFrameOff">getUpdFrameOff</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> <a href="CmmNode.html#t:UpdFrameOffset">UpdFrameOffset</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:CmmParse" class="def">CmmParse</a> a <a href="src/StgCmmExtCode.html#CmmParse" class="link">Source</a> <a href="#t:CmmParse" class="selflink">#</a></p><div class="doc"><p>Does a computation in the FCode monad, with a current environment
      and a list of local declarations. Returns the resulting list of declarations.</p></div><div class="subs instances"><p id="control.i:CmmParse" class="caption collapser" onclick="toggleSection('i:CmmParse')">Instances</p><div id="section.i:CmmParse" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:CmmParse:Monad:1" class="instance expander" onclick="toggleSection('i:id:CmmParse:Monad:1')"></span> <a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a></span> <a href="#t:CmmParse" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:CmmParse:Monad:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a -&gt; (a -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> b) -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> b <a href="../base-4.10.0.0/src/GHC-Base.html#%3E%3E%3D" class="link">Source</a> <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> b -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> b <a href="../base-4.10.0.0/src/GHC-Base.html#%3E%3E" class="link">Source</a> <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a <a href="../base-4.10.0.0/src/GHC-Base.html#return" class="link">Source</a> <a href="#v:return" class="selflink">#</a></p><p class="src"><a href="#v:fail">fail</a> :: <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a <a href="../base-4.10.0.0/src/GHC-Base.html#fail" class="link">Source</a> <a href="#v:fail" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:CmmParse:Functor:2" class="instance expander" onclick="toggleSection('i:id:CmmParse:Functor:2')"></span> <a href="../base-4.10.0.0/Data-Functor.html#t:Functor">Functor</a> <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a></span> <a href="#t:CmmParse" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:CmmParse:Functor:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> b <a href="../base-4.10.0.0/src/GHC-Base.html#fmap" class="link">Source</a> <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> b -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a <a href="../base-4.10.0.0/src/GHC-Base.html#%3C%24" class="link">Source</a> <a href="#v:-60--36-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:CmmParse:Applicative:3" class="instance expander" onclick="toggleSection('i:id:CmmParse:Applicative:3')"></span> <a href="MonadUtils.html#t:Applicative">Applicative</a> <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a></span> <a href="#t:CmmParse" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:CmmParse:Applicative:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a <a href="../base-4.10.0.0/src/GHC-Base.html#pure" class="link">Source</a> <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> (a -&gt; b) -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> b <a href="../base-4.10.0.0/src/GHC-Base.html#%3C%2A%3E" class="link">Source</a> <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> b -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> c <a href="../base-4.10.0.0/src/GHC-Base.html#liftA2" class="link">Source</a> <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> b -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> b <a href="../base-4.10.0.0/src/GHC-Base.html#%2A%3E" class="link">Source</a> <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> b -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a <a href="../base-4.10.0.0/src/GHC-Base.html#%3C%2A" class="link">Source</a> <a href="#v:-60--42-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:CmmParse:MonadUnique:4" class="instance expander" onclick="toggleSection('i:id:CmmParse:MonadUnique:4')"></span> <a href="UniqSupply.html#t:MonadUnique">MonadUnique</a> <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a></span> <a href="#t:CmmParse" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:CmmParse:MonadUnique:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getUniqueSupplyM">getUniqueSupplyM</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> <a href="UniqSupply.html#t:UniqSupply">UniqSupply</a> <a href="src/UniqSupply.html#getUniqueSupplyM" class="link">Source</a> <a href="#v:getUniqueSupplyM" class="selflink">#</a></p><p class="src"><a href="#v:getUniqueM">getUniqueM</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> <a href="Unique.html#t:Unique">Unique</a> <a href="src/UniqSupply.html#getUniqueM" class="link">Source</a> <a href="#v:getUniqueM" class="selflink">#</a></p><p class="src"><a href="#v:getUniquesM">getUniquesM</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> [<a href="Unique.html#t:Unique">Unique</a>] <a href="src/UniqSupply.html#getUniquesM" class="link">Source</a> <a href="#v:getUniquesM" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:CmmParse:HasDynFlags:5" class="instance expander" onclick="toggleSection('i:id:CmmParse:HasDynFlags:5')"></span> <a href="DynFlags.html#t:HasDynFlags">HasDynFlags</a> <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a></span> <a href="#t:CmmParse" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:CmmParse:HasDynFlags:5" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getDynFlags">getDynFlags</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> <a href="DynFlags.html#t:DynFlags">DynFlags</a> <a href="src/DynFlags.html#getDynFlags" class="link">Source</a> <a href="#v:getDynFlags" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:unEC" class="def">unEC</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a -&gt; <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="StgCmmExtCode.html#t:Env">Env</a> -&gt; Decls -&gt; <a href="StgCmmMonad.html#t:FCode">FCode</a> (Decls, a) <a href="src/StgCmmExtCode.html#unEC" class="link">Source</a> <a href="#v:unEC" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Named" class="def">Named</a> <a href="src/StgCmmExtCode.html#Named" class="link">Source</a> <a href="#t:Named" class="selflink">#</a></p><div class="doc"><p>The environment contains variable definitions or blockids.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:VarN" class="def">VarN</a> <a href="CmmExpr.html#t:CmmExpr">CmmExpr</a></td><td class="doc"><p>Holds CmmLit(CmmLabel ..) which gives the label type,
      eg, RtsLabel, ForeignLabel, CmmLabel etc.</p></td></tr><tr><td class="src"><a id="v:FunN" class="def">FunN</a> <a href="Module.html#t:UnitId">UnitId</a></td><td class="doc"><p>A function name from this package</p></td></tr><tr><td class="src"><a id="v:LabelN" class="def">LabelN</a> <a href="BlockId.html#t:BlockId">BlockId</a></td><td class="doc"><p>A blockid of some code or data.</p></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Env" class="def">Env</a> = <a href="UniqFM.html#t:UniqFM">UniqFM</a> <a href="StgCmmExtCode.html#t:Named">Named</a> <a href="src/StgCmmExtCode.html#Env" class="link">Source</a> <a href="#t:Env" class="selflink">#</a></p><div class="doc"><p>An environment of named things.</p></div></div><div class="top"><p class="src"><a id="v:loopDecls" class="def">loopDecls</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a <a href="src/StgCmmExtCode.html#loopDecls" class="link">Source</a> <a href="#v:loopDecls" class="selflink">#</a></p><div class="doc"><p>Takes the variable decarations and imports from the monad
      and makes an environment, which is looped back into the computation.
      In this way, we can have embedded declarations that scope over the whole
      procedure, and imports that scope over the entire module.
      Discards the local declaration contained within decl'</p></div></div><div class="top"><p class="src"><a id="v:getEnv" class="def">getEnv</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> <a href="StgCmmExtCode.html#t:Env">Env</a> <a href="src/StgCmmExtCode.html#getEnv" class="link">Source</a> <a href="#v:getEnv" class="selflink">#</a></p><div class="doc"><p>Get the current environment from the monad.</p></div></div><div class="top"><p class="src"><a id="v:withName" class="def">withName</a> :: <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a <a href="src/StgCmmExtCode.html#withName" class="link">Source</a> <a href="#v:withName" class="selflink">#</a></p><div class="doc"><p>Set context name for a sub-parse</p></div></div><div class="top"><p class="src"><a id="v:getName" class="def">getName</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> <a href="src/StgCmmExtCode.html#getName" class="link">Source</a> <a href="#v:getName" class="selflink">#</a></p><div class="doc"><p>Get the current context name from the monad</p></div></div><div class="top"><p class="src"><a id="v:newLocal" class="def">newLocal</a> <a href="src/StgCmmExtCode.html#newLocal" class="link">Source</a> <a href="#v:newLocal" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="CmmType.html#t:CmmType">CmmType</a></td><td class="doc"><p>data type</p></td></tr><tr><td class="src">-&gt; <a href="FastString.html#t:FastString">FastString</a></td><td class="doc"><p>name of variable</p></td></tr><tr><td class="src">-&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> <a href="CmmExpr.html#t:LocalReg">LocalReg</a></td><td class="doc"><p>register holding the value</p></td></tr></table></div><div class="doc"><p>Create a fresh local variable of a given type.</p></div></div><div class="top"><p class="src"><a id="v:newLabel" class="def">newLabel</a> :: <a href="FastString.html#t:FastString">FastString</a> -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> <a href="BlockId.html#t:BlockId">BlockId</a> <a href="src/StgCmmExtCode.html#newLabel" class="link">Source</a> <a href="#v:newLabel" class="selflink">#</a></p><div class="doc"><p>Allocate a fresh label.</p></div></div><div class="top"><p class="src"><a id="v:newBlockId" class="def">newBlockId</a> :: <a href="UniqSupply.html#t:MonadUnique">MonadUnique</a> m =&gt; m <a href="BlockId.html#t:BlockId">BlockId</a> <a href="src/BlockId.html#newBlockId" class="link">Source</a> <a href="#v:newBlockId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:newFunctionName" class="def">newFunctionName</a> <a href="src/StgCmmExtCode.html#newFunctionName" class="link">Source</a> <a href="#v:newFunctionName" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="FastString.html#t:FastString">FastString</a></td><td class="doc"><p>name of the function</p></td></tr><tr><td class="src">-&gt; <a href="Module.html#t:UnitId">UnitId</a></td><td class="doc"><p>package of the current module</p></td></tr><tr><td class="src">-&gt; ExtCode</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Add add a local function to the environment.</p></div></div><div class="top"><p class="src"><a id="v:newImport" class="def">newImport</a> :: (<a href="FastString.html#t:FastString">FastString</a>, <a href="CLabel.html#t:CLabel">CLabel</a>) -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> () <a href="src/StgCmmExtCode.html#newImport" class="link">Source</a> <a href="#v:newImport" class="selflink">#</a></p><div class="doc"><p>Add an imported foreign label to the list of local declarations.
      If this is done at the start of the module the declaration will scope
      over the whole module.</p></div></div><div class="top"><p class="src"><a id="v:lookupLabel" class="def">lookupLabel</a> :: <a href="FastString.html#t:FastString">FastString</a> -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> <a href="BlockId.html#t:BlockId">BlockId</a> <a href="src/StgCmmExtCode.html#lookupLabel" class="link">Source</a> <a href="#v:lookupLabel" class="selflink">#</a></p><div class="doc"><p>Lookup the BlockId bound to the label with this name.
      If one hasn't been bound yet, create a fresh one based on the
      Unique of the name.</p></div></div><div class="top"><p class="src"><a id="v:lookupName" class="def">lookupName</a> :: <a href="FastString.html#t:FastString">FastString</a> -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> <a href="CmmExpr.html#t:CmmExpr">CmmExpr</a> <a href="src/StgCmmExtCode.html#lookupName" class="link">Source</a> <a href="#v:lookupName" class="selflink">#</a></p><div class="doc"><p>Lookup the location of a named variable.
      Unknown names are treated as if they had been 'import'ed from the runtime system.
      This saves us a lot of bother in the RTS sources, at the expense of
      deferring some errors to link time.</p></div></div><div class="top"><p class="src"><a id="v:code" class="def">code</a> :: <a href="StgCmmMonad.html#t:FCode">FCode</a> a -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a <a href="src/StgCmmExtCode.html#code" class="link">Source</a> <a href="#v:code" class="selflink">#</a></p><div class="doc"><p>Lift an FCode computation into the CmmParse monad</p></div></div><div class="top"><p class="src"><a id="v:emit" class="def">emit</a> :: <a href="MkGraph.html#t:CmmAGraph">CmmAGraph</a> -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> () <a href="src/StgCmmExtCode.html#emit" class="link">Source</a> <a href="#v:emit" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:emitLabel" class="def">emitLabel</a> :: <a href="BlockId.html#t:BlockId">BlockId</a> -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> () <a href="src/StgCmmExtCode.html#emitLabel" class="link">Source</a> <a href="#v:emitLabel" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:emitAssign" class="def">emitAssign</a> :: <a href="CmmExpr.html#t:CmmReg">CmmReg</a> -&gt; <a href="CmmExpr.html#t:CmmExpr">CmmExpr</a> -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> () <a href="src/StgCmmExtCode.html#emitAssign" class="link">Source</a> <a href="#v:emitAssign" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:emitStore" class="def">emitStore</a> :: <a href="CmmExpr.html#t:CmmExpr">CmmExpr</a> -&gt; <a href="CmmExpr.html#t:CmmExpr">CmmExpr</a> -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> () <a href="src/StgCmmExtCode.html#emitStore" class="link">Source</a> <a href="#v:emitStore" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getCode" class="def">getCode</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> <a href="MkGraph.html#t:CmmAGraph">CmmAGraph</a> <a href="src/StgCmmExtCode.html#getCode" class="link">Source</a> <a href="#v:getCode" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getCodeR" class="def">getCodeR</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> (a, <a href="MkGraph.html#t:CmmAGraph">CmmAGraph</a>) <a href="src/StgCmmExtCode.html#getCodeR" class="link">Source</a> <a href="#v:getCodeR" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getCodeScoped" class="def">getCodeScoped</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> a -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> (a, <a href="MkGraph.html#t:CmmAGraphScoped">CmmAGraphScoped</a>) <a href="src/StgCmmExtCode.html#getCodeScoped" class="link">Source</a> <a href="#v:getCodeScoped" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:emitOutOfLine" class="def">emitOutOfLine</a> :: <a href="BlockId.html#t:BlockId">BlockId</a> -&gt; <a href="MkGraph.html#t:CmmAGraphScoped">CmmAGraphScoped</a> -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> () <a href="src/StgCmmExtCode.html#emitOutOfLine" class="link">Source</a> <a href="#v:emitOutOfLine" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:withUpdFrameOff" class="def">withUpdFrameOff</a> :: <a href="CmmNode.html#t:UpdFrameOffset">UpdFrameOffset</a> -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> () -&gt; <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> () <a href="src/StgCmmExtCode.html#withUpdFrameOff" class="link">Source</a> <a href="#v:withUpdFrameOff" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getUpdFrameOff" class="def">getUpdFrameOff</a> :: <a href="StgCmmExtCode.html#t:CmmParse">CmmParse</a> <a href="CmmNode.html#t:UpdFrameOffset">UpdFrameOffset</a> <a href="src/StgCmmExtCode.html#getUpdFrameOff" class="link">Source</a> <a href="#v:getUpdFrameOff" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.2</p></div></body></html>