<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Stream</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Stream.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ghc-8.3: The GHC API</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Stream</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">newtype</span> <a href="#t:Stream">Stream</a> m a b = <a href="#v:Stream">Stream</a> {<ul class="subs"><li><a href="#v:runStream">runStream</a> :: m (<a href="../base-4.10.0.0/Data-Either.html#t:Either">Either</a> b (a, <a href="Stream.html#t:Stream">Stream</a> m a b))</li></ul>}</li><li class="src short"><a href="#v:yield">yield</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; a -&gt; <a href="Stream.html#t:Stream">Stream</a> m a ()</li><li class="src short"><a href="#v:liftIO">liftIO</a> :: <a href="../base-4.10.0.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="Stream.html#t:Stream">Stream</a> <a href="../base-4.10.0.0/System-IO.html#t:IO">IO</a> b a</li><li class="src short"><a href="#v:collect">collect</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Stream.html#t:Stream">Stream</a> m a () -&gt; m [a]</li><li class="src short"><a href="#v:fromList">fromList</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; [a] -&gt; <a href="Stream.html#t:Stream">Stream</a> m a ()</li><li class="src short"><a href="#v:map">map</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (a -&gt; b) -&gt; <a href="Stream.html#t:Stream">Stream</a> m a x -&gt; <a href="Stream.html#t:Stream">Stream</a> m b x</li><li class="src short"><a href="#v:mapM">mapM</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (a -&gt; m b) -&gt; <a href="Stream.html#t:Stream">Stream</a> m a x -&gt; <a href="Stream.html#t:Stream">Stream</a> m b x</li><li class="src short"><a href="#v:mapAccumL">mapAccumL</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (c -&gt; a -&gt; m (c, b)) -&gt; c -&gt; <a href="Stream.html#t:Stream">Stream</a> m a () -&gt; <a href="Stream.html#t:Stream">Stream</a> m b c</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Stream" class="def">Stream</a> m a b <a href="src/Stream.html#Stream" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></p><div class="doc"><p><code>Stream m a b</code> is a computation in some Monad <code>m</code> that delivers a sequence
 of elements of type <code>a</code> followed by a result of type <code>b</code>.</p><p>More concretely, a value of type <code>Stream m a b</code> can be run using <code>runStream</code>
 in the Monad <code>m</code>, and it delivers either</p><ul><li>the final result: <code>Left b</code>, or</li><li><code>Right (a,str)</code>, where <code>a</code> is the next element in the stream, and <code>str</code>
    is a computation to get the rest of the stream.</li></ul><p>Stream is itself a Monad, and provides an operation <code><a href="Stream.html#v:yield">yield</a></code> that
 produces a new element of the stream.  This makes it convenient to turn
 existing monadic computations into streams.</p><p>The idea is that Stream is useful for making a monadic computation
 that produces values from time to time.  This can be used for
 knitting together two complex monadic operations, so that the
 producer does not have to produce all its values before the
 consumer starts consuming them.  We make the producer into a
 Stream, and the consumer pulls on the stream each time it wants a
 new value.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Stream" class="def">Stream</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:runStream" class="def">runStream</a> :: m (<a href="../base-4.10.0.0/Data-Either.html#t:Either">Either</a> b (a, <a href="Stream.html#t:Stream">Stream</a> m a b))</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:Stream" class="caption collapser" onclick="toggleSection('i:Stream')">Instances</p><div id="section.i:Stream" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Stream:Monad:1" class="instance expander" onclick="toggleSection('i:id:Stream:Monad:1')"></span> <a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> (<a href="Stream.html#t:Stream">Stream</a> m a)</span> <a href="#t:Stream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Stream:Monad:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="Stream.html#t:Stream">Stream</a> m a a0 -&gt; (a0 -&gt; <a href="Stream.html#t:Stream">Stream</a> m a b) -&gt; <a href="Stream.html#t:Stream">Stream</a> m a b <a href="../base-4.10.0.0/src/GHC-Base.html#%3E%3E%3D" class="link">Source</a> <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="Stream.html#t:Stream">Stream</a> m a a0 -&gt; <a href="Stream.html#t:Stream">Stream</a> m a b -&gt; <a href="Stream.html#t:Stream">Stream</a> m a b <a href="../base-4.10.0.0/src/GHC-Base.html#%3E%3E" class="link">Source</a> <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a0 -&gt; <a href="Stream.html#t:Stream">Stream</a> m a a0 <a href="../base-4.10.0.0/src/GHC-Base.html#return" class="link">Source</a> <a href="#v:return" class="selflink">#</a></p><p class="src"><a href="#v:fail">fail</a> :: <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Stream.html#t:Stream">Stream</a> m a a0 <a href="../base-4.10.0.0/src/GHC-Base.html#fail" class="link">Source</a> <a href="#v:fail" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Stream:Functor:2" class="instance expander" onclick="toggleSection('i:id:Stream:Functor:2')"></span> <a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> f =&gt; <a href="../base-4.10.0.0/Data-Functor.html#t:Functor">Functor</a> (<a href="Stream.html#t:Stream">Stream</a> f a)</span> <a href="#t:Stream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Stream:Functor:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a0 -&gt; b) -&gt; <a href="Stream.html#t:Stream">Stream</a> f a a0 -&gt; <a href="Stream.html#t:Stream">Stream</a> f a b <a href="../base-4.10.0.0/src/GHC-Base.html#fmap" class="link">Source</a> <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a0 -&gt; <a href="Stream.html#t:Stream">Stream</a> f a b -&gt; <a href="Stream.html#t:Stream">Stream</a> f a a0 <a href="../base-4.10.0.0/src/GHC-Base.html#%3C%24" class="link">Source</a> <a href="#v:-60--36-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Stream:Applicative:3" class="instance expander" onclick="toggleSection('i:id:Stream:Applicative:3')"></span> <a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="MonadUtils.html#t:Applicative">Applicative</a> (<a href="Stream.html#t:Stream">Stream</a> m a)</span> <a href="#t:Stream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Stream:Applicative:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a0 -&gt; <a href="Stream.html#t:Stream">Stream</a> m a a0 <a href="../base-4.10.0.0/src/GHC-Base.html#pure" class="link">Source</a> <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="Stream.html#t:Stream">Stream</a> m a (a0 -&gt; b) -&gt; <a href="Stream.html#t:Stream">Stream</a> m a a0 -&gt; <a href="Stream.html#t:Stream">Stream</a> m a b <a href="../base-4.10.0.0/src/GHC-Base.html#%3C%2A%3E" class="link">Source</a> <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a0 -&gt; b -&gt; c) -&gt; <a href="Stream.html#t:Stream">Stream</a> m a a0 -&gt; <a href="Stream.html#t:Stream">Stream</a> m a b -&gt; <a href="Stream.html#t:Stream">Stream</a> m a c <a href="../base-4.10.0.0/src/GHC-Base.html#liftA2" class="link">Source</a> <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="Stream.html#t:Stream">Stream</a> m a a0 -&gt; <a href="Stream.html#t:Stream">Stream</a> m a b -&gt; <a href="Stream.html#t:Stream">Stream</a> m a b <a href="../base-4.10.0.0/src/GHC-Base.html#%2A%3E" class="link">Source</a> <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="Stream.html#t:Stream">Stream</a> m a a0 -&gt; <a href="Stream.html#t:Stream">Stream</a> m a b -&gt; <a href="Stream.html#t:Stream">Stream</a> m a a0 <a href="../base-4.10.0.0/src/GHC-Base.html#%3C%2A" class="link">Source</a> <a href="#v:-60--42-" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:yield" class="def">yield</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; a -&gt; <a href="Stream.html#t:Stream">Stream</a> m a () <a href="src/Stream.html#yield" class="link">Source</a> <a href="#v:yield" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:liftIO" class="def">liftIO</a> :: <a href="../base-4.10.0.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="Stream.html#t:Stream">Stream</a> <a href="../base-4.10.0.0/System-IO.html#t:IO">IO</a> b a <a href="src/Stream.html#liftIO" class="link">Source</a> <a href="#v:liftIO" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:collect" class="def">collect</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Stream.html#t:Stream">Stream</a> m a () -&gt; m [a] <a href="src/Stream.html#collect" class="link">Source</a> <a href="#v:collect" class="selflink">#</a></p><div class="doc"><p>Turn a Stream into an ordinary list, by demanding all the elements.</p></div></div><div class="top"><p class="src"><a id="v:fromList" class="def">fromList</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; [a] -&gt; <a href="Stream.html#t:Stream">Stream</a> m a () <a href="src/Stream.html#fromList" class="link">Source</a> <a href="#v:fromList" class="selflink">#</a></p><div class="doc"><p>Turn a list into a <code><a href="Stream.html#t:Stream">Stream</a></code>, by yielding each element in turn.</p></div></div><div class="top"><p class="src"><a id="v:map" class="def">map</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (a -&gt; b) -&gt; <a href="Stream.html#t:Stream">Stream</a> m a x -&gt; <a href="Stream.html#t:Stream">Stream</a> m b x <a href="src/Stream.html#map" class="link">Source</a> <a href="#v:map" class="selflink">#</a></p><div class="doc"><p>Apply a function to each element of a <code><a href="Stream.html#t:Stream">Stream</a></code>, lazily</p></div></div><div class="top"><p class="src"><a id="v:mapM" class="def">mapM</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (a -&gt; m b) -&gt; <a href="Stream.html#t:Stream">Stream</a> m a x -&gt; <a href="Stream.html#t:Stream">Stream</a> m b x <a href="src/Stream.html#mapM" class="link">Source</a> <a href="#v:mapM" class="selflink">#</a></p><div class="doc"><p>Apply a monadic operation to each element of a <code><a href="Stream.html#t:Stream">Stream</a></code>, lazily</p></div></div><div class="top"><p class="src"><a id="v:mapAccumL" class="def">mapAccumL</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (c -&gt; a -&gt; m (c, b)) -&gt; c -&gt; <a href="Stream.html#t:Stream">Stream</a> m a () -&gt; <a href="Stream.html#t:Stream">Stream</a> m b c <a href="src/Stream.html#mapAccumL" class="link">Source</a> <a href="#v:mapAccumL" class="selflink">#</a></p><div class="doc"><p>analog of the list-based <code><a href="Stream.html#v:mapAccumL">mapAccumL</a></code> on Streams.  This is a simple
 way to map over a Stream while carrying some state around.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.2</p></div></body></html>