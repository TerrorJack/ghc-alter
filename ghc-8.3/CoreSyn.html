<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CoreSyn</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/CoreSyn.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ghc-8.3: The GHC API</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">CoreSyn</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Main data types</a></li><li><a href="#g:2">In/Out type synonyms</a><ul><li><a href="#g:3"><code>Expr</code> construction</a></li><li><a href="#g:4">Simple <code>Expr</code> access functions and predicates</a></li></ul></li><li><a href="#g:5">Tick-related functions</a></li><li><a href="#g:6">Unfolding data types</a><ul><li><a href="#g:7">Constructing <code>Unfolding</code>s</a></li><li><a href="#g:8">Predicates and deconstruction on <code>Unfolding</code></a></li></ul></li><li><a href="#g:9">Annotated expression data types</a><ul><li><a href="#g:10">Operations on annotated expressions</a></li><li><a href="#g:11">Operations on annotations</a></li></ul></li><li><a href="#g:12">Orphanhood</a></li><li><a href="#g:13">Core rule data types</a><ul><li><a href="#g:14">Operations on <code>CoreRule</code>s</a></li></ul></li><li><a href="#g:15">Core vectorisation declarations data type</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>CoreSyn holds all the main data types for use by for the Glasgow Haskell Compiler midsection</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Expr">Expr</a> b<ul class="subs"><li>= <a href="#v:Var">Var</a> <a href="Var.html#t:Id">Id</a></li><li>| <a href="#v:Lit">Lit</a> <a href="Literal.html#t:Literal">Literal</a></li><li>| <a href="#v:App">App</a> (<a href="CoreSyn.html#t:Expr">Expr</a> b) (<a href="CoreSyn.html#t:Arg">Arg</a> b)</li><li>| <a href="#v:Lam">Lam</a> b (<a href="CoreSyn.html#t:Expr">Expr</a> b)</li><li>| <a href="#v:Let">Let</a> (<a href="CoreSyn.html#t:Bind">Bind</a> b) (<a href="CoreSyn.html#t:Expr">Expr</a> b)</li><li>| <a href="#v:Case">Case</a> (<a href="CoreSyn.html#t:Expr">Expr</a> b) b <a href="Type.html#t:Type">Type</a> [<a href="CoreSyn.html#t:Alt">Alt</a> b]</li><li>| <a href="#v:Cast">Cast</a> (<a href="CoreSyn.html#t:Expr">Expr</a> b) <a href="Coercion.html#t:Coercion">Coercion</a></li><li>| <a href="#v:Tick">Tick</a> (<a href="CoreSyn.html#t:Tickish">Tickish</a> <a href="Var.html#t:Id">Id</a>) (<a href="CoreSyn.html#t:Expr">Expr</a> b)</li><li>| <a href="#v:Type">Type</a> <a href="Type.html#t:Type">Type</a></li><li>| <a href="#v:Coercion">Coercion</a> <a href="Coercion.html#t:Coercion">Coercion</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:Alt">Alt</a> b = (<a href="CoreSyn.html#t:AltCon">AltCon</a>, [b], <a href="CoreSyn.html#t:Expr">Expr</a> b)</li><li class="src short"><span class="keyword">data</span> <a href="#t:Bind">Bind</a> b<ul class="subs"><li>= <a href="#v:NonRec">NonRec</a> b (<a href="CoreSyn.html#t:Expr">Expr</a> b)</li><li>| <a href="#v:Rec">Rec</a> [(b, <a href="CoreSyn.html#t:Expr">Expr</a> b)]</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:AltCon">AltCon</a><ul class="subs"><li>= <a href="#v:DataAlt">DataAlt</a> <a href="DataCon.html#t:DataCon">DataCon</a></li><li>| <a href="#v:LitAlt">LitAlt</a> <a href="Literal.html#t:Literal">Literal</a></li><li>| <a href="#v:DEFAULT">DEFAULT</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:Arg">Arg</a> b = <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><span class="keyword">data</span> <a href="#t:Tickish">Tickish</a> id<ul class="subs"><li>= <a href="#v:ProfNote">ProfNote</a> { <ul class="subs"><li><a href="#v:profNoteCC">profNoteCC</a> :: <a href="CostCentre.html#t:CostCentre">CostCentre</a></li><li><a href="#v:profNoteCount">profNoteCount</a> :: !<a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li><a href="#v:profNoteScope">profNoteScope</a> :: !<a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li></ul> }</li><li>| <a href="#v:HpcTick">HpcTick</a> { <ul class="subs"><li><a href="#v:tickModule">tickModule</a> :: <a href="Module.html#t:Module">Module</a></li><li><a href="#v:tickId">tickId</a> :: !<a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a></li></ul> }</li><li>| <a href="#v:Breakpoint">Breakpoint</a> { <ul class="subs"><li><a href="#v:breakpointId">breakpointId</a> :: !<a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a></li><li><a href="#v:breakpointFVs">breakpointFVs</a> :: [id]</li></ul> }</li><li>| <a href="#v:SourceNote">SourceNote</a> { <ul class="subs"><li><a href="#v:sourceSpan">sourceSpan</a> :: <a href="SrcLoc.html#t:RealSrcSpan">RealSrcSpan</a></li><li><a href="#v:sourceName">sourceName</a> :: <a href="../base-4.10.0.0/Data-String.html#t:String">String</a></li></ul> }</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:TickishScoping">TickishScoping</a><ul class="subs"><li>= <a href="#v:NoScope">NoScope</a></li><li>| <a href="#v:SoftScope">SoftScope</a></li><li>| <a href="#v:CostCentreScope">CostCentreScope</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:TickishPlacement">TickishPlacement</a><ul class="subs"><li>= <a href="#v:PlaceRuntime">PlaceRuntime</a></li><li>| <a href="#v:PlaceNonLam">PlaceNonLam</a></li><li>| <a href="#v:PlaceCostCentre">PlaceCostCentre</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:CoreProgram">CoreProgram</a> = [<a href="CoreSyn.html#t:CoreBind">CoreBind</a>]</li><li class="src short"><span class="keyword">type</span> <a href="#t:CoreExpr">CoreExpr</a> = <a href="CoreSyn.html#t:Expr">Expr</a> <a href="CoreSyn.html#t:CoreBndr">CoreBndr</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:CoreAlt">CoreAlt</a> = <a href="CoreSyn.html#t:Alt">Alt</a> <a href="CoreSyn.html#t:CoreBndr">CoreBndr</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:CoreBind">CoreBind</a> = <a href="CoreSyn.html#t:Bind">Bind</a> <a href="CoreSyn.html#t:CoreBndr">CoreBndr</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:CoreArg">CoreArg</a> = <a href="CoreSyn.html#t:Arg">Arg</a> <a href="CoreSyn.html#t:CoreBndr">CoreBndr</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:CoreBndr">CoreBndr</a> = <a href="Var.html#t:Var">Var</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:TaggedExpr">TaggedExpr</a> t = <a href="CoreSyn.html#t:Expr">Expr</a> (<a href="CoreSyn.html#t:TaggedBndr">TaggedBndr</a> t)</li><li class="src short"><span class="keyword">type</span> <a href="#t:TaggedAlt">TaggedAlt</a> t = <a href="CoreSyn.html#t:Alt">Alt</a> (<a href="CoreSyn.html#t:TaggedBndr">TaggedBndr</a> t)</li><li class="src short"><span class="keyword">type</span> <a href="#t:TaggedBind">TaggedBind</a> t = <a href="CoreSyn.html#t:Bind">Bind</a> (<a href="CoreSyn.html#t:TaggedBndr">TaggedBndr</a> t)</li><li class="src short"><span class="keyword">type</span> <a href="#t:TaggedArg">TaggedArg</a> t = <a href="CoreSyn.html#t:Arg">Arg</a> (<a href="CoreSyn.html#t:TaggedBndr">TaggedBndr</a> t)</li><li class="src short"><span class="keyword">data</span> <a href="#t:TaggedBndr">TaggedBndr</a> t = <a href="#v:TB">TB</a> <a href="CoreSyn.html#t:CoreBndr">CoreBndr</a> t</li><li class="src short"><a href="#v:deTagExpr">deTagExpr</a> :: <a href="CoreSyn.html#t:TaggedExpr">TaggedExpr</a> t -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:InId">InId</a> = <a href="Var.html#t:Id">Id</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:InBind">InBind</a> = <a href="CoreSyn.html#t:CoreBind">CoreBind</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:InExpr">InExpr</a> = <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:InAlt">InAlt</a> = <a href="CoreSyn.html#t:CoreAlt">CoreAlt</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:InArg">InArg</a> = <a href="CoreSyn.html#t:CoreArg">CoreArg</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:InType">InType</a> = <a href="Type.html#t:Type">Type</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:InKind">InKind</a> = <a href="Kind.html#t:Kind">Kind</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:InBndr">InBndr</a> = <a href="CoreSyn.html#t:CoreBndr">CoreBndr</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:InVar">InVar</a> = <a href="Var.html#t:Var">Var</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:InCoercion">InCoercion</a> = <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:InTyVar">InTyVar</a> = <a href="Var.html#t:TyVar">TyVar</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:InCoVar">InCoVar</a> = <a href="Var.html#t:CoVar">CoVar</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:OutId">OutId</a> = <a href="Var.html#t:Id">Id</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:OutBind">OutBind</a> = <a href="CoreSyn.html#t:CoreBind">CoreBind</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:OutExpr">OutExpr</a> = <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:OutAlt">OutAlt</a> = <a href="CoreSyn.html#t:CoreAlt">CoreAlt</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:OutArg">OutArg</a> = <a href="CoreSyn.html#t:CoreArg">CoreArg</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:OutType">OutType</a> = <a href="Type.html#t:Type">Type</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:OutKind">OutKind</a> = <a href="Kind.html#t:Kind">Kind</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:OutBndr">OutBndr</a> = <a href="CoreSyn.html#t:CoreBndr">CoreBndr</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:OutVar">OutVar</a> = <a href="Var.html#t:Var">Var</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:OutCoercion">OutCoercion</a> = <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:OutTyVar">OutTyVar</a> = <a href="Var.html#t:TyVar">TyVar</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:OutCoVar">OutCoVar</a> = <a href="Var.html#t:CoVar">CoVar</a></li><li class="src short"><a href="#v:mkLet">mkLet</a> :: <a href="CoreSyn.html#t:Bind">Bind</a> b -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:mkLets">mkLets</a> :: [<a href="CoreSyn.html#t:Bind">Bind</a> b] -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:mkLetNonRec">mkLetNonRec</a> :: b -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:mkLetRec">mkLetRec</a> :: [(b, <a href="CoreSyn.html#t:Expr">Expr</a> b)] -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:mkLams">mkLams</a> :: [b] -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:mkApps">mkApps</a> :: <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; [<a href="CoreSyn.html#t:Arg">Arg</a> b] -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:mkTyApps">mkTyApps</a> :: <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; [<a href="Type.html#t:Type">Type</a>] -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:mkCoApps">mkCoApps</a> :: <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; [<a href="Coercion.html#t:Coercion">Coercion</a>] -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:mkVarApps">mkVarApps</a> :: <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; [<a href="Var.html#t:Var">Var</a>] -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:mkTyArg">mkTyArg</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:mkIntLit">mkIntLit</a> :: <a href="DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.0.0/Prelude.html#t:Integer">Integer</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:mkIntLitInt">mkIntLitInt</a> :: <a href="DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:mkWordLit">mkWordLit</a> :: <a href="DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.0.0/Prelude.html#t:Integer">Integer</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:mkWordLitWord">mkWordLitWord</a> :: <a href="DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.0.0/Data-Word.html#t:Word">Word</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:mkWord64LitWord64">mkWord64LitWord64</a> :: <a href="../base-4.10.0.0/Data-Word.html#t:Word64">Word64</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:mkInt64LitInt64">mkInt64LitInt64</a> :: <a href="../base-4.10.0.0/Data-Int.html#t:Int64">Int64</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:mkCharLit">mkCharLit</a> :: <a href="../base-4.10.0.0/Data-Char.html#t:Char">Char</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:mkStringLit">mkStringLit</a> :: <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:mkFloatLit">mkFloatLit</a> :: <a href="../base-4.10.0.0/Prelude.html#t:Rational">Rational</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:mkFloatLitFloat">mkFloatLitFloat</a> :: <a href="../base-4.10.0.0/Prelude.html#t:Float">Float</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:mkDoubleLit">mkDoubleLit</a> :: <a href="../base-4.10.0.0/Prelude.html#t:Rational">Rational</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:mkDoubleLitDouble">mkDoubleLitDouble</a> :: <a href="../base-4.10.0.0/Prelude.html#t:Double">Double</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:mkConApp">mkConApp</a> :: <a href="DataCon.html#t:DataCon">DataCon</a> -&gt; [<a href="CoreSyn.html#t:Arg">Arg</a> b] -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:mkConApp2">mkConApp2</a> :: <a href="DataCon.html#t:DataCon">DataCon</a> -&gt; [<a href="Type.html#t:Type">Type</a>] -&gt; [<a href="Var.html#t:Var">Var</a>] -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:mkTyBind">mkTyBind</a> :: <a href="Var.html#t:TyVar">TyVar</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="CoreSyn.html#t:CoreBind">CoreBind</a></li><li class="src short"><a href="#v:mkCoBind">mkCoBind</a> :: <a href="Var.html#t:CoVar">CoVar</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="CoreSyn.html#t:CoreBind">CoreBind</a></li><li class="src short"><a href="#v:varToCoreExpr">varToCoreExpr</a> :: <a href="CoreSyn.html#t:CoreBndr">CoreBndr</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b</li><li class="src short"><a href="#v:varsToCoreExprs">varsToCoreExprs</a> :: [<a href="CoreSyn.html#t:CoreBndr">CoreBndr</a>] -&gt; [<a href="CoreSyn.html#t:Expr">Expr</a> b]</li><li class="src short"><a href="#v:isId">isId</a> :: <a href="Var.html#t:Var">Var</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:cmpAltCon">cmpAltCon</a> :: <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="../base-4.10.0.0/Data-Ord.html#t:Ordering">Ordering</a></li><li class="src short"><a href="#v:cmpAlt">cmpAlt</a> :: (<a href="CoreSyn.html#t:AltCon">AltCon</a>, a, b) -&gt; (<a href="CoreSyn.html#t:AltCon">AltCon</a>, a, b) -&gt; <a href="../base-4.10.0.0/Data-Ord.html#t:Ordering">Ordering</a></li><li class="src short"><a href="#v:ltAlt">ltAlt</a> :: (<a href="CoreSyn.html#t:AltCon">AltCon</a>, a, b) -&gt; (<a href="CoreSyn.html#t:AltCon">AltCon</a>, a, b) -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:bindersOf">bindersOf</a> :: <a href="CoreSyn.html#t:Bind">Bind</a> b -&gt; [b]</li><li class="src short"><a href="#v:bindersOfBinds">bindersOfBinds</a> :: [<a href="CoreSyn.html#t:Bind">Bind</a> b] -&gt; [b]</li><li class="src short"><a href="#v:rhssOfBind">rhssOfBind</a> :: <a href="CoreSyn.html#t:Bind">Bind</a> b -&gt; [<a href="CoreSyn.html#t:Expr">Expr</a> b]</li><li class="src short"><a href="#v:rhssOfAlts">rhssOfAlts</a> :: [<a href="CoreSyn.html#t:Alt">Alt</a> b] -&gt; [<a href="CoreSyn.html#t:Expr">Expr</a> b]</li><li class="src short"><a href="#v:collectBinders">collectBinders</a> :: <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; ([b], <a href="CoreSyn.html#t:Expr">Expr</a> b)</li><li class="src short"><a href="#v:collectTyBinders">collectTyBinders</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; ([<a href="Var.html#t:TyVar">TyVar</a>], <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>)</li><li class="src short"><a href="#v:collectTyAndValBinders">collectTyAndValBinders</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; ([<a href="Var.html#t:TyVar">TyVar</a>], [<a href="Var.html#t:Id">Id</a>], <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>)</li><li class="src short"><a href="#v:collectNBinders">collectNBinders</a> :: <a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; ([b], <a href="CoreSyn.html#t:Expr">Expr</a> b)</li><li class="src short"><a href="#v:collectArgs">collectArgs</a> :: <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; (<a href="CoreSyn.html#t:Expr">Expr</a> b, [<a href="CoreSyn.html#t:Arg">Arg</a> b])</li><li class="src short"><a href="#v:collectArgsTicks">collectArgsTicks</a> :: (<a href="CoreSyn.html#t:Tickish">Tickish</a> <a href="Var.html#t:Id">Id</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; (<a href="CoreSyn.html#t:Expr">Expr</a> b, [<a href="CoreSyn.html#t:Arg">Arg</a> b], [<a href="CoreSyn.html#t:Tickish">Tickish</a> <a href="Var.html#t:Id">Id</a>])</li><li class="src short"><a href="#v:flattenBinds">flattenBinds</a> :: [<a href="CoreSyn.html#t:Bind">Bind</a> b] -&gt; [(b, <a href="CoreSyn.html#t:Expr">Expr</a> b)]</li><li class="src short"><a href="#v:exprToType">exprToType</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="Type.html#t:Type">Type</a></li><li class="src short"><a href="#v:exprToCoercion_maybe">exprToCoercion_maybe</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:applyTypeToArg">applyTypeToArg</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="Type.html#t:Type">Type</a></li><li class="src short"><a href="#v:isValArg">isValArg</a> :: <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isTypeArg">isTypeArg</a> :: <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isTyCoArg">isTyCoArg</a> :: <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:valArgCount">valArgCount</a> :: [<a href="CoreSyn.html#t:Arg">Arg</a> b] -&gt; <a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:valBndrCount">valBndrCount</a> :: [<a href="CoreSyn.html#t:CoreBndr">CoreBndr</a>] -&gt; <a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:isRuntimeArg">isRuntimeArg</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isRuntimeVar">isRuntimeVar</a> :: <a href="Var.html#t:Var">Var</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:tickishCounts">tickishCounts</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:tickishScoped">tickishScoped</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="CoreSyn.html#t:TickishScoping">TickishScoping</a></li><li class="src short"><a href="#v:tickishScopesLike">tickishScopesLike</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="CoreSyn.html#t:TickishScoping">TickishScoping</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:tickishFloatable">tickishFloatable</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:tickishCanSplit">tickishCanSplit</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:mkNoCount">mkNoCount</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id</li><li class="src short"><a href="#v:mkNoScope">mkNoScope</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id</li><li class="src short"><a href="#v:tickishIsCode">tickishIsCode</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:tickishPlace">tickishPlace</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="CoreSyn.html#t:TickishPlacement">TickishPlacement</a></li><li class="src short"><a href="#v:tickishContains">tickishContains</a> :: <a href="../base-4.10.0.0/Data-Eq.html#t:Eq">Eq</a> b =&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> b -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> b -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Unfolding">Unfolding</a><ul class="subs"><li>= <a href="#v:NoUnfolding">NoUnfolding</a></li><li>| <a href="#v:BootUnfolding">BootUnfolding</a></li><li>| <a href="#v:OtherCon">OtherCon</a> [<a href="CoreSyn.html#t:AltCon">AltCon</a>]</li><li>| <a href="#v:DFunUnfolding">DFunUnfolding</a> { <ul class="subs"><li><a href="#v:df_bndrs">df_bndrs</a> :: [<a href="Var.html#t:Var">Var</a>]</li><li><a href="#v:df_con">df_con</a> :: <a href="DataCon.html#t:DataCon">DataCon</a></li><li><a href="#v:df_args">df_args</a> :: [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>]</li></ul> }</li><li>| <a href="#v:CoreUnfolding">CoreUnfolding</a> { <ul class="subs"><li><a href="#v:uf_tmpl">uf_tmpl</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li><a href="#v:uf_src">uf_src</a> :: <a href="CoreSyn.html#t:UnfoldingSource">UnfoldingSource</a></li><li><a href="#v:uf_is_top">uf_is_top</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li><a href="#v:uf_is_value">uf_is_value</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li><a href="#v:uf_is_conlike">uf_is_conlike</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li><a href="#v:uf_is_work_free">uf_is_work_free</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li><a href="#v:uf_expandable">uf_expandable</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li><a href="#v:uf_guidance">uf_guidance</a> :: <a href="CoreSyn.html#t:UnfoldingGuidance">UnfoldingGuidance</a></li></ul> }</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:UnfoldingGuidance">UnfoldingGuidance</a><ul class="subs"><li>= <a href="#v:UnfWhen">UnfWhen</a> { <ul class="subs"><li><a href="#v:ug_arity">ug_arity</a> :: <a href="BasicTypes.html#t:Arity">Arity</a></li><li><a href="#v:ug_unsat_ok">ug_unsat_ok</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li><a href="#v:ug_boring_ok">ug_boring_ok</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li></ul> }</li><li>| <a href="#v:UnfIfGoodArgs">UnfIfGoodArgs</a> { <ul class="subs"><li><a href="#v:ug_args">ug_args</a> :: [<a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a>]</li><li><a href="#v:ug_size">ug_size</a> :: <a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a></li><li><a href="#v:ug_res">ug_res</a> :: <a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a></li></ul> }</li><li>| <a href="#v:UnfNever">UnfNever</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:UnfoldingSource">UnfoldingSource</a><ul class="subs"><li>= <a href="#v:InlineRhs">InlineRhs</a></li><li>| <a href="#v:InlineStable">InlineStable</a></li><li>| <a href="#v:InlineCompulsory">InlineCompulsory</a></li></ul></li><li class="src short"><a href="#v:noUnfolding">noUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a></li><li class="src short"><a href="#v:bootUnfolding">bootUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a></li><li class="src short"><a href="#v:evaldUnfolding">evaldUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a></li><li class="src short"><a href="#v:mkOtherCon">mkOtherCon</a> :: [<a href="CoreSyn.html#t:AltCon">AltCon</a>] -&gt; <a href="CoreSyn.html#t:Unfolding">Unfolding</a></li><li class="src short"><a href="#v:unSaturatedOk">unSaturatedOk</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:needSaturated">needSaturated</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:boringCxtOk">boringCxtOk</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:boringCxtNotOk">boringCxtNotOk</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:unfoldingTemplate">unfoldingTemplate</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:expandUnfolding_maybe">expandUnfolding_maybe</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:maybeUnfoldingTemplate">maybeUnfoldingTemplate</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><a href="#v:otherCons">otherCons</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; [<a href="CoreSyn.html#t:AltCon">AltCon</a>]</li><li class="src short"><a href="#v:isValueUnfolding">isValueUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isEvaldUnfolding">isEvaldUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isCheapUnfolding">isCheapUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isExpandableUnfolding">isExpandableUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isConLikeUnfolding">isConLikeUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isCompulsoryUnfolding">isCompulsoryUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isStableUnfolding">isStableUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isFragileUnfolding">isFragileUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:hasSomeUnfolding">hasSomeUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isBootUnfolding">isBootUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:canUnfold">canUnfold</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:neverUnfoldGuidance">neverUnfoldGuidance</a> :: <a href="CoreSyn.html#t:UnfoldingGuidance">UnfoldingGuidance</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isStableSource">isStableSource</a> :: <a href="CoreSyn.html#t:UnfoldingSource">UnfoldingSource</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:AnnExpr">AnnExpr</a> bndr annot = (annot, <a href="CoreSyn.html#t:AnnExpr-39-">AnnExpr'</a> bndr annot)</li><li class="src short"><span class="keyword">data</span> <a href="#t:AnnExpr-39-">AnnExpr'</a> bndr annot<ul class="subs"><li>= <a href="#v:AnnVar">AnnVar</a> <a href="Var.html#t:Id">Id</a></li><li>| <a href="#v:AnnLit">AnnLit</a> <a href="Literal.html#t:Literal">Literal</a></li><li>| <a href="#v:AnnLam">AnnLam</a> bndr (<a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot)</li><li>| <a href="#v:AnnApp">AnnApp</a> (<a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot) (<a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot)</li><li>| <a href="#v:AnnCase">AnnCase</a> (<a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot) bndr <a href="Type.html#t:Type">Type</a> [<a href="CoreSyn.html#t:AnnAlt">AnnAlt</a> bndr annot]</li><li>| <a href="#v:AnnLet">AnnLet</a> (<a href="CoreSyn.html#t:AnnBind">AnnBind</a> bndr annot) (<a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot)</li><li>| <a href="#v:AnnCast">AnnCast</a> (<a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot) (annot, <a href="Coercion.html#t:Coercion">Coercion</a>)</li><li>| <a href="#v:AnnTick">AnnTick</a> (<a href="CoreSyn.html#t:Tickish">Tickish</a> <a href="Var.html#t:Id">Id</a>) (<a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot)</li><li>| <a href="#v:AnnType">AnnType</a> <a href="Type.html#t:Type">Type</a></li><li>| <a href="#v:AnnCoercion">AnnCoercion</a> <a href="Coercion.html#t:Coercion">Coercion</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:AnnBind">AnnBind</a> bndr annot<ul class="subs"><li>= <a href="#v:AnnNonRec">AnnNonRec</a> bndr (<a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot)</li><li>| <a href="#v:AnnRec">AnnRec</a> [(bndr, <a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot)]</li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:AnnAlt">AnnAlt</a> bndr annot = (<a href="CoreSyn.html#t:AltCon">AltCon</a>, [bndr], <a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot)</li><li class="src short"><a href="#v:collectAnnArgs">collectAnnArgs</a> :: <a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> b a -&gt; (<a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> b a, [<a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> b a])</li><li class="src short"><a href="#v:collectAnnArgsTicks">collectAnnArgsTicks</a> :: (<a href="CoreSyn.html#t:Tickish">Tickish</a> <a href="Var.html#t:Var">Var</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> b a -&gt; (<a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> b a, [<a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> b a], [<a href="CoreSyn.html#t:Tickish">Tickish</a> <a href="Var.html#t:Var">Var</a>])</li><li class="src short"><a href="#v:deAnnotate">deAnnotate</a> :: <a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> bndr</li><li class="src short"><a href="#v:deAnnotate-39-">deAnnotate'</a> :: <a href="CoreSyn.html#t:AnnExpr-39-">AnnExpr'</a> bndr annot -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> bndr</li><li class="src short"><a href="#v:deAnnAlt">deAnnAlt</a> :: <a href="CoreSyn.html#t:AnnAlt">AnnAlt</a> bndr annot -&gt; <a href="CoreSyn.html#t:Alt">Alt</a> bndr</li><li class="src short"><a href="#v:collectAnnBndrs">collectAnnBndrs</a> :: <a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot -&gt; ([bndr], <a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot)</li><li class="src short"><a href="#v:collectNAnnBndrs">collectNAnnBndrs</a> :: <a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot -&gt; ([bndr], <a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot)</li><li class="src short"><span class="keyword">data</span> <a href="#t:IsOrphan">IsOrphan</a><ul class="subs"><li>= <a href="#v:IsOrphan">IsOrphan</a></li><li>| <a href="#v:NotOrphan">NotOrphan</a> <a href="OccName.html#t:OccName">OccName</a></li></ul></li><li class="src short"><a href="#v:isOrphan">isOrphan</a> :: <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:notOrphan">notOrphan</a> :: <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:chooseOrphanAnchor">chooseOrphanAnchor</a> :: <a href="NameSet.html#t:NameSet">NameSet</a> -&gt; <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:CoreRule">CoreRule</a><ul class="subs"><li>= <a href="#v:Rule">Rule</a> { <ul class="subs"><li><a href="#v:ru_name">ru_name</a> :: <a href="CoreSyn.html#t:RuleName">RuleName</a></li><li><a href="#v:ru_act">ru_act</a> :: <a href="BasicTypes.html#t:Activation">Activation</a></li><li><a href="#v:ru_fn">ru_fn</a> :: <a href="Name.html#t:Name">Name</a></li><li><a href="#v:ru_rough">ru_rough</a> :: [<a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Name.html#t:Name">Name</a>]</li><li><a href="#v:ru_bndrs">ru_bndrs</a> :: [<a href="CoreSyn.html#t:CoreBndr">CoreBndr</a>]</li><li><a href="#v:ru_args">ru_args</a> :: [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>]</li><li><a href="#v:ru_rhs">ru_rhs</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li><a href="#v:ru_auto">ru_auto</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li><a href="#v:ru_origin">ru_origin</a> :: !<a href="Module.html#t:Module">Module</a></li><li><a href="#v:ru_orphan">ru_orphan</a> :: !<a href="CoreSyn.html#t:IsOrphan">IsOrphan</a></li><li><a href="#v:ru_local">ru_local</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li></ul> }</li><li>| <a href="#v:BuiltinRule">BuiltinRule</a> { <ul class="subs"><li><a href="#v:ru_name">ru_name</a> :: <a href="CoreSyn.html#t:RuleName">RuleName</a></li><li><a href="#v:ru_fn">ru_fn</a> :: <a href="Name.html#t:Name">Name</a></li><li><a href="#v:ru_nargs">ru_nargs</a> :: <a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a></li><li><a href="#v:ru_try">ru_try</a> :: <a href="CoreSyn.html#t:RuleFun">RuleFun</a></li></ul> }</li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:RuleBase">RuleBase</a> = <a href="NameEnv.html#t:NameEnv">NameEnv</a> [<a href="CoreSyn.html#t:CoreRule">CoreRule</a>]</li><li class="src short"><span class="keyword">type</span> <a href="#t:RuleName">RuleName</a> = <a href="FastString.html#t:FastString">FastString</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:RuleFun">RuleFun</a> = <a href="DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="CoreSyn.html#t:InScopeEnv">InScopeEnv</a> -&gt; <a href="Var.html#t:Id">Id</a> -&gt; [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:IdUnfoldingFun">IdUnfoldingFun</a> = <a href="Var.html#t:Id">Id</a> -&gt; <a href="CoreSyn.html#t:Unfolding">Unfolding</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:InScopeEnv">InScopeEnv</a> = (<a href="VarEnv.html#t:InScopeSet">InScopeSet</a>, <a href="CoreSyn.html#t:IdUnfoldingFun">IdUnfoldingFun</a>)</li><li class="src short"><span class="keyword">data</span> <a href="#t:RuleEnv">RuleEnv</a> = <a href="#v:RuleEnv">RuleEnv</a> {<ul class="subs"><li><a href="#v:re_base">re_base</a> :: <a href="CoreSyn.html#t:RuleBase">RuleBase</a></li><li><a href="#v:re_visible_orphs">re_visible_orphs</a> :: <a href="Module.html#t:ModuleSet">ModuleSet</a></li></ul>}</li><li class="src short"><a href="#v:mkRuleEnv">mkRuleEnv</a> :: <a href="CoreSyn.html#t:RuleBase">RuleBase</a> -&gt; [<a href="Module.html#t:Module">Module</a>] -&gt; <a href="CoreSyn.html#t:RuleEnv">RuleEnv</a></li><li class="src short"><a href="#v:emptyRuleEnv">emptyRuleEnv</a> :: <a href="CoreSyn.html#t:RuleEnv">RuleEnv</a></li><li class="src short"><a href="#v:ruleArity">ruleArity</a> :: <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; <a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:ruleName">ruleName</a> :: <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; <a href="CoreSyn.html#t:RuleName">RuleName</a></li><li class="src short"><a href="#v:ruleIdName">ruleIdName</a> :: <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; <a href="Name.html#t:Name">Name</a></li><li class="src short"><a href="#v:ruleActivation">ruleActivation</a> :: <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; <a href="BasicTypes.html#t:Activation">Activation</a></li><li class="src short"><a href="#v:setRuleIdName">setRuleIdName</a> :: <a href="Name.html#t:Name">Name</a> -&gt; <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; <a href="CoreSyn.html#t:CoreRule">CoreRule</a></li><li class="src short"><a href="#v:ruleModule">ruleModule</a> :: <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Module.html#t:Module">Module</a></li><li class="src short"><a href="#v:isBuiltinRule">isBuiltinRule</a> :: <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isLocalRule">isLocalRule</a> :: <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isAutoRule">isAutoRule</a> :: <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:CoreVect">CoreVect</a><ul class="subs"><li>= <a href="#v:Vect">Vect</a> <a href="Var.html#t:Id">Id</a> <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></li><li>| <a href="#v:NoVect">NoVect</a> <a href="Var.html#t:Id">Id</a></li><li>| <a href="#v:VectType">VectType</a> <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="TyCon.html#t:TyCon">TyCon</a> (<a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="TyCon.html#t:TyCon">TyCon</a>)</li><li>| <a href="#v:VectClass">VectClass</a> <a href="TyCon.html#t:TyCon">TyCon</a></li><li>| <a href="#v:VectInst">VectInst</a> <a href="Var.html#t:Id">Id</a></li></ul></li></ul></div><div id="interface"><h1 id="g:1">Main data types</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Expr" class="def">Expr</a> b <a href="src/CoreSyn.html#Expr" class="link">Source</a> <a href="#t:Expr" class="selflink">#</a></p><div class="doc"><p>This is the data type that represents GHCs core intermediate language. Currently
 GHC uses System FC <a href="https://www.microsoft.com/en-us/research/publication/system-f-with-type-equality-coercions/">https://www.microsoft.com/en-us/research/publication/system-f-with-type-equality-coercions/</a> for this purpose,
 which is closely related to the simpler and better known System F <a href="http://en.wikipedia.org/wiki/System_F">http://en.wikipedia.org/wiki/System_F</a>.</p><p>We get from Haskell source to this Core language in a number of stages:</p><ol><li>The source code is parsed into an abstract syntax tree, which is represented
    by the data type <code><a href="HsExpr.html#v:HsExpr">HsExpr</a></code> with the names being <code><a href="RdrName.html#v:RdrNames">RdrNames</a></code></li><li>This syntax tree is <em>renamed</em>, which attaches a <code><a href="Unique.html#v:Unique">Unique</a></code> to every <code><a href="RdrName.html#v:RdrName">RdrName</a></code>
    (yielding a <code><a href="Name.html#t:Name">Name</a></code>) to disambiguate identifiers which are lexically identical.
    For example, this program:</li></ol><pre>     f x = let f x = x + 1
           in f (x - 2)
</pre><p>Would be renamed by having <code>Unique</code>s attached so it looked something like this:</p><pre>     f_1 x_2 = let f_3 x_4 = x_4 + 1
               in f_3 (x_2 - 2)
</pre><p>But see Note [Shadowing] below.</p><ol><li>The resulting syntax tree undergoes type checking (which also deals with instantiating
    type class arguments) to yield a <code><a href="HsExpr.html#v:HsExpr">HsExpr</a></code> type that has <code><a href="Id.html#v:Id">Id</a></code> as it's names.</li><li>Finally the syntax tree is <em>desugared</em> from the expressive <code><a href="HsExpr.html#v:HsExpr">HsExpr</a></code> type into
    this <code><a href="CoreSyn.html#t:Expr">Expr</a></code> type, which has far fewer constructors and hence is easier to perform
    optimization, analysis and code generation on.</li></ol><p>The type parameter <code>b</code> is for the type of binders in the expression tree.</p><p>The language consists of the following elements:</p><ul><li>Variables</li><li>Primitive literals</li><li>Applications: note that the argument may be a <code><a href="Type.html#t:Type">Type</a></code>.
    See Note [CoreSyn let/app invariant]
    See Note [Levity polymorphism invariants]</li><li>Lambda abstraction
    See Note [Levity polymorphism invariants]</li><li>Recursive and non recursive <code>let</code>s. Operationally
    this corresponds to allocating a thunk for the things
    bound and then executing the sub-expression.</li></ul><p><a id="top_level_invariant"></a>
    <a id="letrec_invariant"></a></p><p>The right hand sides of all top-level and recursive <code>let</code>s
    <em>must</em> be of lifted type (see <a href="Type.html#type_classification">Type</a> for
    the meaning of <em>lifted</em> vs. <em>unlifted</em>). There is one exception
    to this rule, top-level <code>let</code>s are allowed to bind primitive
    string literals, see Note [CoreSyn top-level string literals].</p><p>See Note [CoreSyn let/app invariant]
    See Note [Levity polymorphism invariants]</p><p><a id="type_let"></a>
    We allow a <em>non-recursive</em> let to bind a type variable, thus:</p><pre>Let (NonRec tv (Type ty)) body</pre><p>This can be very convenient for postponing type substitutions until
    the next run of the simplifier.</p><p>At the moment, the rest of the compiler only deals with type-let
    in a Let expression, rather than at top level.  We may want to revist
    this choice.</p><ul><li>Case expression. Operationally this corresponds to evaluating
    the scrutinee (expression examined) to weak head normal form
    and then examining at most one level of resulting constructor (i.e. you
    cannot do nested pattern matching directly with this).</li></ul><p>The binder gets bound to the value of the scrutinee,
    and the <code><a href="Type.html#t:Type">Type</a></code> must be that of all the case alternatives</p><p><a id="case_invariants"></a>
    This is one of the more complicated elements of the Core language,
    and comes with a number of restrictions:</p><ol><li>The list of alternatives may be empty;
       See Note [Empty case alternatives]</li><li>The <code><a href="CoreSyn.html#v:DEFAULT">DEFAULT</a></code> case alternative must be first in the list,
       if it occurs at all.</li><li>The remaining cases are in order of increasing
         tag  (for <code>DataAlts</code>) or
         lit  (for <code>LitAlts</code>).
       This makes finding the relevant constructor easy,
       and makes comparison easier too.</li><li>The list of alternatives must be exhaustive. An <em>exhaustive</em> case
       does not necessarily mention all constructors:</li></ol><pre>           data Foo = Red | Green | Blue
      ... case x of
           Red   -&gt; True
           other -&gt; f (case x of
                           Green -&gt; ...
                           Blue  -&gt; ... ) ...
      </pre><p>The inner case does not need a <code>Red</code> alternative, because <code>x</code>
       can't be <code>Red</code> at that program point.</p><ol><li>Floating-point values must not be scrutinised against literals.
       See Trac #9238 and Note [Rules for floating-point comparisons]
       in PrelRules for rationale.</li></ol><ul><li>Cast an expression to a particular type.
    This is used to implement <code>newtype</code>s (a <code>newtype</code> constructor or
    destructor just becomes a <code><a href="CoreSyn.html#v:Cast">Cast</a></code> in Core) and GADTs.</li><li>Notes. These allow general information to be added to expressions
    in the syntax tree</li><li>A type: this should only show up at the top level of an Arg</li><li>A coercion</li></ul></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Var" class="def">Var</a> <a href="Var.html#t:Id">Id</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Lit" class="def">Lit</a> <a href="Literal.html#t:Literal">Literal</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:App" class="def">App</a> (<a href="CoreSyn.html#t:Expr">Expr</a> b) (<a href="CoreSyn.html#t:Arg">Arg</a> b) <span class="fixity">infixl 4</span><span class="rightedge"></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Lam" class="def">Lam</a> b (<a href="CoreSyn.html#t:Expr">Expr</a> b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Let" class="def">Let</a> (<a href="CoreSyn.html#t:Bind">Bind</a> b) (<a href="CoreSyn.html#t:Expr">Expr</a> b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Case" class="def">Case</a> (<a href="CoreSyn.html#t:Expr">Expr</a> b) b <a href="Type.html#t:Type">Type</a> [<a href="CoreSyn.html#t:Alt">Alt</a> b]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Cast" class="def">Cast</a> (<a href="CoreSyn.html#t:Expr">Expr</a> b) <a href="Coercion.html#t:Coercion">Coercion</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Tick" class="def">Tick</a> (<a href="CoreSyn.html#t:Tickish">Tickish</a> <a href="Var.html#t:Id">Id</a>) (<a href="CoreSyn.html#t:Expr">Expr</a> b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Type" class="def">Type</a> <a href="Type.html#t:Type">Type</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Coercion" class="def">Coercion</a> <a href="Coercion.html#t:Coercion">Coercion</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Expr" class="caption collapser" onclick="toggleSection('i:Expr')">Instances</p><div id="section.i:Expr" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Expr:Data:1" class="instance expander" onclick="toggleSection('i:id:Expr:Data:1')"></span> <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> b =&gt; <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> (<a href="CoreSyn.html#t:Expr">Expr</a> b)</span> <a href="#t:Expr" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Expr:Data:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:gfoldl">gfoldl</a> :: (<span class="keyword">forall</span> d b0. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; c (d -&gt; b0) -&gt; d -&gt; c b0) -&gt; (<span class="keyword">forall</span> g. g -&gt; c g) -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; c (<a href="CoreSyn.html#t:Expr">Expr</a> b) <a href="../base-4.10.0.0/src/Data-Data.html#gfoldl" class="link">Source</a> <a href="#v:gfoldl" class="selflink">#</a></p><p class="src"><a href="#v:gunfold">gunfold</a> :: (<span class="keyword">forall</span> b0 r. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> b0 =&gt; c (b0 -&gt; r) -&gt; c r) -&gt; (<span class="keyword">forall</span> r. r -&gt; c r) -&gt; <a href="../base-4.10.0.0/Data-Data.html#t:Constr">Constr</a> -&gt; c (<a href="CoreSyn.html#t:Expr">Expr</a> b) <a href="../base-4.10.0.0/src/Data-Data.html#gunfold" class="link">Source</a> <a href="#v:gunfold" class="selflink">#</a></p><p class="src"><a href="#v:toConstr">toConstr</a> :: <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; <a href="../base-4.10.0.0/Data-Data.html#t:Constr">Constr</a> <a href="../base-4.10.0.0/src/Data-Data.html#toConstr" class="link">Source</a> <a href="#v:toConstr" class="selflink">#</a></p><p class="src"><a href="#v:dataTypeOf">dataTypeOf</a> :: <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; <a href="../base-4.10.0.0/Data-Data.html#t:DataType">DataType</a> <a href="../base-4.10.0.0/src/Data-Data.html#dataTypeOf" class="link">Source</a> <a href="#v:dataTypeOf" class="selflink">#</a></p><p class="src"><a href="#v:dataCast1">dataCast1</a> :: <a href="../base-4.10.0.0/Type-Reflection.html#t:Typeable">Typeable</a> (<a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a>) t =&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; c (t d)) -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (c (<a href="CoreSyn.html#t:Expr">Expr</a> b)) <a href="../base-4.10.0.0/src/Data-Data.html#dataCast1" class="link">Source</a> <a href="#v:dataCast1" class="selflink">#</a></p><p class="src"><a href="#v:dataCast2">dataCast2</a> :: <a href="../base-4.10.0.0/Type-Reflection.html#t:Typeable">Typeable</a> (<a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a>) t =&gt; (<span class="keyword">forall</span> d e. (<a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d, <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> e) =&gt; c (t d e)) -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (c (<a href="CoreSyn.html#t:Expr">Expr</a> b)) <a href="../base-4.10.0.0/src/Data-Data.html#dataCast2" class="link">Source</a> <a href="#v:dataCast2" class="selflink">#</a></p><p class="src"><a href="#v:gmapT">gmapT</a> :: (<span class="keyword">forall</span> b0. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> b0 =&gt; b0 -&gt; b0) -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <a href="../base-4.10.0.0/src/Data-Data.html#gmapT" class="link">Source</a> <a href="#v:gmapT" class="selflink">#</a></p><p class="src"><a href="#v:gmapQl">gmapQl</a> :: (r -&gt; r' -&gt; r) -&gt; r -&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; r') -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; r <a href="../base-4.10.0.0/src/Data-Data.html#gmapQl" class="link">Source</a> <a href="#v:gmapQl" class="selflink">#</a></p><p class="src"><a href="#v:gmapQr">gmapQr</a> :: (r' -&gt; r -&gt; r) -&gt; r -&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; r') -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; r <a href="../base-4.10.0.0/src/Data-Data.html#gmapQr" class="link">Source</a> <a href="#v:gmapQr" class="selflink">#</a></p><p class="src"><a href="#v:gmapQ">gmapQ</a> :: (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; u) -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; [u] <a href="../base-4.10.0.0/src/Data-Data.html#gmapQ" class="link">Source</a> <a href="#v:gmapQ" class="selflink">#</a></p><p class="src"><a href="#v:gmapQi">gmapQi</a> :: <a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a> -&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; u) -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; u <a href="../base-4.10.0.0/src/Data-Data.html#gmapQi" class="link">Source</a> <a href="#v:gmapQi" class="selflink">#</a></p><p class="src"><a href="#v:gmapM">gmapM</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; m d) -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; m (<a href="CoreSyn.html#t:Expr">Expr</a> b) <a href="../base-4.10.0.0/src/Data-Data.html#gmapM" class="link">Source</a> <a href="#v:gmapM" class="selflink">#</a></p><p class="src"><a href="#v:gmapMp">gmapMp</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:MonadPlus">MonadPlus</a> m =&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; m d) -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; m (<a href="CoreSyn.html#t:Expr">Expr</a> b) <a href="../base-4.10.0.0/src/Data-Data.html#gmapMp" class="link">Source</a> <a href="#v:gmapMp" class="selflink">#</a></p><p class="src"><a href="#v:gmapMo">gmapMo</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:MonadPlus">MonadPlus</a> m =&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; m d) -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; m (<a href="CoreSyn.html#t:Expr">Expr</a> b) <a href="../base-4.10.0.0/src/Data-Data.html#gmapMo" class="link">Source</a> <a href="#v:gmapMo" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Alt" class="def">Alt</a> b = (<a href="CoreSyn.html#t:AltCon">AltCon</a>, [b], <a href="CoreSyn.html#t:Expr">Expr</a> b) <a href="src/CoreSyn.html#Alt" class="link">Source</a> <a href="#t:Alt" class="selflink">#</a></p><div class="doc"><p>A case split alternative. Consists of the constructor leading to the alternative,
 the variables bound from the constructor, and the expression to be executed given that binding.
 The default alternative is <code>(DEFAULT, [], rhs)</code></p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Bind" class="def">Bind</a> b <a href="src/CoreSyn.html#Bind" class="link">Source</a> <a href="#t:Bind" class="selflink">#</a></p><div class="doc"><p>Binding, used for top level bindings in a module and local bindings in a <code>let</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NonRec" class="def">NonRec</a> b (<a href="CoreSyn.html#t:Expr">Expr</a> b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Rec" class="def">Rec</a> [(b, <a href="CoreSyn.html#t:Expr">Expr</a> b)]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Bind" class="caption collapser" onclick="toggleSection('i:Bind')">Instances</p><div id="section.i:Bind" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Bind:Data:1" class="instance expander" onclick="toggleSection('i:id:Bind:Data:1')"></span> <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> b =&gt; <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> (<a href="CoreSyn.html#t:Bind">Bind</a> b)</span> <a href="#t:Bind" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Bind:Data:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:gfoldl">gfoldl</a> :: (<span class="keyword">forall</span> d b0. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; c (d -&gt; b0) -&gt; d -&gt; c b0) -&gt; (<span class="keyword">forall</span> g. g -&gt; c g) -&gt; <a href="CoreSyn.html#t:Bind">Bind</a> b -&gt; c (<a href="CoreSyn.html#t:Bind">Bind</a> b) <a href="../base-4.10.0.0/src/Data-Data.html#gfoldl" class="link">Source</a> <a href="#v:gfoldl" class="selflink">#</a></p><p class="src"><a href="#v:gunfold">gunfold</a> :: (<span class="keyword">forall</span> b0 r. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> b0 =&gt; c (b0 -&gt; r) -&gt; c r) -&gt; (<span class="keyword">forall</span> r. r -&gt; c r) -&gt; <a href="../base-4.10.0.0/Data-Data.html#t:Constr">Constr</a> -&gt; c (<a href="CoreSyn.html#t:Bind">Bind</a> b) <a href="../base-4.10.0.0/src/Data-Data.html#gunfold" class="link">Source</a> <a href="#v:gunfold" class="selflink">#</a></p><p class="src"><a href="#v:toConstr">toConstr</a> :: <a href="CoreSyn.html#t:Bind">Bind</a> b -&gt; <a href="../base-4.10.0.0/Data-Data.html#t:Constr">Constr</a> <a href="../base-4.10.0.0/src/Data-Data.html#toConstr" class="link">Source</a> <a href="#v:toConstr" class="selflink">#</a></p><p class="src"><a href="#v:dataTypeOf">dataTypeOf</a> :: <a href="CoreSyn.html#t:Bind">Bind</a> b -&gt; <a href="../base-4.10.0.0/Data-Data.html#t:DataType">DataType</a> <a href="../base-4.10.0.0/src/Data-Data.html#dataTypeOf" class="link">Source</a> <a href="#v:dataTypeOf" class="selflink">#</a></p><p class="src"><a href="#v:dataCast1">dataCast1</a> :: <a href="../base-4.10.0.0/Type-Reflection.html#t:Typeable">Typeable</a> (<a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a>) t =&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; c (t d)) -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (c (<a href="CoreSyn.html#t:Bind">Bind</a> b)) <a href="../base-4.10.0.0/src/Data-Data.html#dataCast1" class="link">Source</a> <a href="#v:dataCast1" class="selflink">#</a></p><p class="src"><a href="#v:dataCast2">dataCast2</a> :: <a href="../base-4.10.0.0/Type-Reflection.html#t:Typeable">Typeable</a> (<a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a>) t =&gt; (<span class="keyword">forall</span> d e. (<a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d, <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> e) =&gt; c (t d e)) -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (c (<a href="CoreSyn.html#t:Bind">Bind</a> b)) <a href="../base-4.10.0.0/src/Data-Data.html#dataCast2" class="link">Source</a> <a href="#v:dataCast2" class="selflink">#</a></p><p class="src"><a href="#v:gmapT">gmapT</a> :: (<span class="keyword">forall</span> b0. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> b0 =&gt; b0 -&gt; b0) -&gt; <a href="CoreSyn.html#t:Bind">Bind</a> b -&gt; <a href="CoreSyn.html#t:Bind">Bind</a> b <a href="../base-4.10.0.0/src/Data-Data.html#gmapT" class="link">Source</a> <a href="#v:gmapT" class="selflink">#</a></p><p class="src"><a href="#v:gmapQl">gmapQl</a> :: (r -&gt; r' -&gt; r) -&gt; r -&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; r') -&gt; <a href="CoreSyn.html#t:Bind">Bind</a> b -&gt; r <a href="../base-4.10.0.0/src/Data-Data.html#gmapQl" class="link">Source</a> <a href="#v:gmapQl" class="selflink">#</a></p><p class="src"><a href="#v:gmapQr">gmapQr</a> :: (r' -&gt; r -&gt; r) -&gt; r -&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; r') -&gt; <a href="CoreSyn.html#t:Bind">Bind</a> b -&gt; r <a href="../base-4.10.0.0/src/Data-Data.html#gmapQr" class="link">Source</a> <a href="#v:gmapQr" class="selflink">#</a></p><p class="src"><a href="#v:gmapQ">gmapQ</a> :: (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; u) -&gt; <a href="CoreSyn.html#t:Bind">Bind</a> b -&gt; [u] <a href="../base-4.10.0.0/src/Data-Data.html#gmapQ" class="link">Source</a> <a href="#v:gmapQ" class="selflink">#</a></p><p class="src"><a href="#v:gmapQi">gmapQi</a> :: <a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a> -&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; u) -&gt; <a href="CoreSyn.html#t:Bind">Bind</a> b -&gt; u <a href="../base-4.10.0.0/src/Data-Data.html#gmapQi" class="link">Source</a> <a href="#v:gmapQi" class="selflink">#</a></p><p class="src"><a href="#v:gmapM">gmapM</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; m d) -&gt; <a href="CoreSyn.html#t:Bind">Bind</a> b -&gt; m (<a href="CoreSyn.html#t:Bind">Bind</a> b) <a href="../base-4.10.0.0/src/Data-Data.html#gmapM" class="link">Source</a> <a href="#v:gmapM" class="selflink">#</a></p><p class="src"><a href="#v:gmapMp">gmapMp</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:MonadPlus">MonadPlus</a> m =&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; m d) -&gt; <a href="CoreSyn.html#t:Bind">Bind</a> b -&gt; m (<a href="CoreSyn.html#t:Bind">Bind</a> b) <a href="../base-4.10.0.0/src/Data-Data.html#gmapMp" class="link">Source</a> <a href="#v:gmapMp" class="selflink">#</a></p><p class="src"><a href="#v:gmapMo">gmapMo</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:MonadPlus">MonadPlus</a> m =&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; m d) -&gt; <a href="CoreSyn.html#t:Bind">Bind</a> b -&gt; m (<a href="CoreSyn.html#t:Bind">Bind</a> b) <a href="../base-4.10.0.0/src/Data-Data.html#gmapMo" class="link">Source</a> <a href="#v:gmapMo" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:AltCon" class="def">AltCon</a> <a href="src/CoreSyn.html#AltCon" class="link">Source</a> <a href="#t:AltCon" class="selflink">#</a></p><div class="doc"><p>A case alternative constructor (i.e. pattern match)</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DataAlt" class="def">DataAlt</a> <a href="DataCon.html#t:DataCon">DataCon</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:LitAlt" class="def">LitAlt</a> <a href="Literal.html#t:Literal">Literal</a></td><td class="doc"><p>A literal: <code>case e of { 1 -&gt; ... }</code>
 Invariant: always an *unlifted* literal
 See Note [Literal alternatives]</p></td></tr><tr><td class="src"><a id="v:DEFAULT" class="def">DEFAULT</a></td><td class="doc"><p>Trivial alternative: <code>case e of { _ -&gt; ... }</code></p></td></tr></table></div><div class="subs instances"><p id="control.i:AltCon" class="caption collapser" onclick="toggleSection('i:AltCon')">Instances</p><div id="section.i:AltCon" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:AltCon:Eq:1" class="instance expander" onclick="toggleSection('i:id:AltCon:Eq:1')"></span> <a href="../base-4.10.0.0/Data-Eq.html#t:Eq">Eq</a> <a href="CoreSyn.html#t:AltCon">AltCon</a></span> <a href="#t:AltCon" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:AltCon:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:AltCon:Data:2" class="instance expander" onclick="toggleSection('i:id:AltCon:Data:2')"></span> <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> <a href="CoreSyn.html#t:AltCon">AltCon</a></span> <a href="#t:AltCon" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:AltCon:Data:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:gfoldl">gfoldl</a> :: (<span class="keyword">forall</span> d b. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; c (d -&gt; b) -&gt; d -&gt; c b) -&gt; (<span class="keyword">forall</span> g. g -&gt; c g) -&gt; <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; c <a href="CoreSyn.html#t:AltCon">AltCon</a> <a href="../base-4.10.0.0/src/Data-Data.html#gfoldl" class="link">Source</a> <a href="#v:gfoldl" class="selflink">#</a></p><p class="src"><a href="#v:gunfold">gunfold</a> :: (<span class="keyword">forall</span> b r. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> b =&gt; c (b -&gt; r) -&gt; c r) -&gt; (<span class="keyword">forall</span> r. r -&gt; c r) -&gt; <a href="../base-4.10.0.0/Data-Data.html#t:Constr">Constr</a> -&gt; c <a href="CoreSyn.html#t:AltCon">AltCon</a> <a href="../base-4.10.0.0/src/Data-Data.html#gunfold" class="link">Source</a> <a href="#v:gunfold" class="selflink">#</a></p><p class="src"><a href="#v:toConstr">toConstr</a> :: <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="../base-4.10.0.0/Data-Data.html#t:Constr">Constr</a> <a href="../base-4.10.0.0/src/Data-Data.html#toConstr" class="link">Source</a> <a href="#v:toConstr" class="selflink">#</a></p><p class="src"><a href="#v:dataTypeOf">dataTypeOf</a> :: <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="../base-4.10.0.0/Data-Data.html#t:DataType">DataType</a> <a href="../base-4.10.0.0/src/Data-Data.html#dataTypeOf" class="link">Source</a> <a href="#v:dataTypeOf" class="selflink">#</a></p><p class="src"><a href="#v:dataCast1">dataCast1</a> :: <a href="../base-4.10.0.0/Type-Reflection.html#t:Typeable">Typeable</a> (<a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a>) t =&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; c (t d)) -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (c <a href="CoreSyn.html#t:AltCon">AltCon</a>) <a href="../base-4.10.0.0/src/Data-Data.html#dataCast1" class="link">Source</a> <a href="#v:dataCast1" class="selflink">#</a></p><p class="src"><a href="#v:dataCast2">dataCast2</a> :: <a href="../base-4.10.0.0/Type-Reflection.html#t:Typeable">Typeable</a> (<a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a>) t =&gt; (<span class="keyword">forall</span> d e. (<a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d, <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> e) =&gt; c (t d e)) -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (c <a href="CoreSyn.html#t:AltCon">AltCon</a>) <a href="../base-4.10.0.0/src/Data-Data.html#dataCast2" class="link">Source</a> <a href="#v:dataCast2" class="selflink">#</a></p><p class="src"><a href="#v:gmapT">gmapT</a> :: (<span class="keyword">forall</span> b. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> b =&gt; b -&gt; b) -&gt; <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="CoreSyn.html#t:AltCon">AltCon</a> <a href="../base-4.10.0.0/src/Data-Data.html#gmapT" class="link">Source</a> <a href="#v:gmapT" class="selflink">#</a></p><p class="src"><a href="#v:gmapQl">gmapQl</a> :: (r -&gt; r' -&gt; r) -&gt; r -&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; r') -&gt; <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; r <a href="../base-4.10.0.0/src/Data-Data.html#gmapQl" class="link">Source</a> <a href="#v:gmapQl" class="selflink">#</a></p><p class="src"><a href="#v:gmapQr">gmapQr</a> :: (r' -&gt; r -&gt; r) -&gt; r -&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; r') -&gt; <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; r <a href="../base-4.10.0.0/src/Data-Data.html#gmapQr" class="link">Source</a> <a href="#v:gmapQr" class="selflink">#</a></p><p class="src"><a href="#v:gmapQ">gmapQ</a> :: (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; u) -&gt; <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; [u] <a href="../base-4.10.0.0/src/Data-Data.html#gmapQ" class="link">Source</a> <a href="#v:gmapQ" class="selflink">#</a></p><p class="src"><a href="#v:gmapQi">gmapQi</a> :: <a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a> -&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; u) -&gt; <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; u <a href="../base-4.10.0.0/src/Data-Data.html#gmapQi" class="link">Source</a> <a href="#v:gmapQi" class="selflink">#</a></p><p class="src"><a href="#v:gmapM">gmapM</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; m d) -&gt; <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; m <a href="CoreSyn.html#t:AltCon">AltCon</a> <a href="../base-4.10.0.0/src/Data-Data.html#gmapM" class="link">Source</a> <a href="#v:gmapM" class="selflink">#</a></p><p class="src"><a href="#v:gmapMp">gmapMp</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:MonadPlus">MonadPlus</a> m =&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; m d) -&gt; <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; m <a href="CoreSyn.html#t:AltCon">AltCon</a> <a href="../base-4.10.0.0/src/Data-Data.html#gmapMp" class="link">Source</a> <a href="#v:gmapMp" class="selflink">#</a></p><p class="src"><a href="#v:gmapMo">gmapMo</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:MonadPlus">MonadPlus</a> m =&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; m d) -&gt; <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; m <a href="CoreSyn.html#t:AltCon">AltCon</a> <a href="../base-4.10.0.0/src/Data-Data.html#gmapMo" class="link">Source</a> <a href="#v:gmapMo" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:AltCon:Ord:3" class="instance expander" onclick="toggleSection('i:id:AltCon:Ord:3')"></span> <a href="../base-4.10.0.0/Data-Ord.html#t:Ord">Ord</a> <a href="CoreSyn.html#t:AltCon">AltCon</a></span> <a href="#t:AltCon" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:AltCon:Ord:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="../base-4.10.0.0/Data-Ord.html#t:Ordering">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="CoreSyn.html#t:AltCon">AltCon</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="CoreSyn.html#t:AltCon">AltCon</a> <a href="#v:min" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:AltCon:Outputable:4" class="instance expander" onclick="toggleSection('i:id:AltCon:Outputable:4')"></span> <a href="Outputable.html#t:Outputable">Outputable</a> <a href="CoreSyn.html#t:AltCon">AltCon</a></span> <a href="#t:AltCon" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:AltCon:Outputable:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ppr">ppr</a> :: <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> <a href="src/Outputable.html#ppr" class="link">Source</a> <a href="#v:ppr" class="selflink">#</a></p><p class="src"><a href="#v:pprPrec">pprPrec</a> :: <a href="../base-4.10.0.0/Prelude.html#t:Rational">Rational</a> -&gt; <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> <a href="src/Outputable.html#pprPrec" class="link">Source</a> <a href="#v:pprPrec" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Arg" class="def">Arg</a> b = <a href="CoreSyn.html#t:Expr">Expr</a> b <a href="src/CoreSyn.html#Arg" class="link">Source</a> <a href="#t:Arg" class="selflink">#</a></p><div class="doc"><p>Type synonym for expressions that occur in function argument positions.
 Only <code><a href="CoreSyn.html#t:Arg">Arg</a></code> should contain a <code><a href="Type.html#t:Type">Type</a></code> at top level, general <code><a href="CoreSyn.html#t:Expr">Expr</a></code> should not</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Tickish" class="def">Tickish</a> id <a href="src/CoreSyn.html#Tickish" class="link">Source</a> <a href="#t:Tickish" class="selflink">#</a></p><div class="doc"><p>Allows attaching extra information to points in expressions</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ProfNote" class="def">ProfNote</a></td><td class="doc"><p>An <code>{-<a id=" SCC "></a>-}</code> profiling annotation, either automatically
 added by the desugarer as a result of -auto-all, or added by
 the user.</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:profNoteCC" class="def">profNoteCC</a> :: <a href="CostCentre.html#t:CostCentre">CostCentre</a></dfn><div class="doc"><p>the cost centre</p></div></li><li><dfn class="src"><a id="v:profNoteCount" class="def">profNoteCount</a> :: !<a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></dfn><div class="doc"><p>bump the entry count?</p></div></li><li><dfn class="src"><a id="v:profNoteScope" class="def">profNoteScope</a> :: !<a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></dfn><div class="doc"><p>scopes over the enclosed expression
 (i.e. not just a tick)</p></div></li></ul></div></td></tr><tr><td class="src"><a id="v:HpcTick" class="def">HpcTick</a></td><td class="doc"><p>A &quot;tick&quot; used by HPC to track the execution of each
 subexpression in the original source code.</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:tickModule" class="def">tickModule</a> :: <a href="Module.html#t:Module">Module</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:tickId" class="def">tickId</a> :: !<a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:Breakpoint" class="def">Breakpoint</a></td><td class="doc"><p>A breakpoint for the GHCi debugger.  This behaves like an HPC
 tick, but has a list of free variables which will be available
 for inspection in GHCi when the program stops at the breakpoint.</p><p>NB. we must take account of these Ids when (a) counting free variables,
 and (b) substituting (don't substitute for them)</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:breakpointId" class="def">breakpointId</a> :: !<a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:breakpointFVs" class="def">breakpointFVs</a> :: [id]</dfn><div class="doc"><p>the order of this list is important:
 it matches the order of the lists in the
 appropriate entry in HscTypes.ModBreaks.</p><p>Careful about substitution!  See
 Note [substTickish] in CoreSubst.</p></div></li></ul></div></td></tr><tr><td class="src"><a id="v:SourceNote" class="def">SourceNote</a></td><td class="doc"><p>A source note.</p><p>Source notes are pure annotations: Their presence should neither
 influence compilation nor execution. The semantics are given by
 causality: The presence of a source note means that a local
 change in the referenced source code span will possibly provoke
 the generated code to change. On the flip-side, the functionality
 of annotated code *must* be invariant against changes to all
 source code *except* the spans referenced in the source notes
 (see &quot;Causality of optimized Haskell&quot; paper for details).</p><p>Therefore extending the scope of any given source note is always
 valid. Note that it is still undesirable though, as this reduces
 their usefulness for debugging and profiling. Therefore we will
 generally try only to make use of this property where it is
 necessary to enable optimizations.</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:sourceSpan" class="def">sourceSpan</a> :: <a href="SrcLoc.html#t:RealSrcSpan">RealSrcSpan</a></dfn><div class="doc"><p>Source covered</p></div></li><li><dfn class="src"><a id="v:sourceName" class="def">sourceName</a> :: <a href="../base-4.10.0.0/Data-String.html#t:String">String</a></dfn><div class="doc"><p>Name for source location
   (uses same names as CCs)</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:Tickish" class="caption collapser" onclick="toggleSection('i:Tickish')">Instances</p><div id="section.i:Tickish" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Tickish:Eq:1" class="instance expander" onclick="toggleSection('i:id:Tickish:Eq:1')"></span> <a href="../base-4.10.0.0/Data-Eq.html#t:Eq">Eq</a> id =&gt; <a href="../base-4.10.0.0/Data-Eq.html#t:Eq">Eq</a> (<a href="CoreSyn.html#t:Tickish">Tickish</a> id)</span> <a href="#t:Tickish" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Tickish:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Tickish:Data:2" class="instance expander" onclick="toggleSection('i:id:Tickish:Data:2')"></span> <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> id =&gt; <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> (<a href="CoreSyn.html#t:Tickish">Tickish</a> id)</span> <a href="#t:Tickish" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Tickish:Data:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:gfoldl">gfoldl</a> :: (<span class="keyword">forall</span> d b. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; c (d -&gt; b) -&gt; d -&gt; c b) -&gt; (<span class="keyword">forall</span> g. g -&gt; c g) -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; c (<a href="CoreSyn.html#t:Tickish">Tickish</a> id) <a href="../base-4.10.0.0/src/Data-Data.html#gfoldl" class="link">Source</a> <a href="#v:gfoldl" class="selflink">#</a></p><p class="src"><a href="#v:gunfold">gunfold</a> :: (<span class="keyword">forall</span> b r. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> b =&gt; c (b -&gt; r) -&gt; c r) -&gt; (<span class="keyword">forall</span> r. r -&gt; c r) -&gt; <a href="../base-4.10.0.0/Data-Data.html#t:Constr">Constr</a> -&gt; c (<a href="CoreSyn.html#t:Tickish">Tickish</a> id) <a href="../base-4.10.0.0/src/Data-Data.html#gunfold" class="link">Source</a> <a href="#v:gunfold" class="selflink">#</a></p><p class="src"><a href="#v:toConstr">toConstr</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="../base-4.10.0.0/Data-Data.html#t:Constr">Constr</a> <a href="../base-4.10.0.0/src/Data-Data.html#toConstr" class="link">Source</a> <a href="#v:toConstr" class="selflink">#</a></p><p class="src"><a href="#v:dataTypeOf">dataTypeOf</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="../base-4.10.0.0/Data-Data.html#t:DataType">DataType</a> <a href="../base-4.10.0.0/src/Data-Data.html#dataTypeOf" class="link">Source</a> <a href="#v:dataTypeOf" class="selflink">#</a></p><p class="src"><a href="#v:dataCast1">dataCast1</a> :: <a href="../base-4.10.0.0/Type-Reflection.html#t:Typeable">Typeable</a> (<a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a>) t =&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; c (t d)) -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (c (<a href="CoreSyn.html#t:Tickish">Tickish</a> id)) <a href="../base-4.10.0.0/src/Data-Data.html#dataCast1" class="link">Source</a> <a href="#v:dataCast1" class="selflink">#</a></p><p class="src"><a href="#v:dataCast2">dataCast2</a> :: <a href="../base-4.10.0.0/Type-Reflection.html#t:Typeable">Typeable</a> (<a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a>) t =&gt; (<span class="keyword">forall</span> d e. (<a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d, <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> e) =&gt; c (t d e)) -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (c (<a href="CoreSyn.html#t:Tickish">Tickish</a> id)) <a href="../base-4.10.0.0/src/Data-Data.html#dataCast2" class="link">Source</a> <a href="#v:dataCast2" class="selflink">#</a></p><p class="src"><a href="#v:gmapT">gmapT</a> :: (<span class="keyword">forall</span> b. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> b =&gt; b -&gt; b) -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id <a href="../base-4.10.0.0/src/Data-Data.html#gmapT" class="link">Source</a> <a href="#v:gmapT" class="selflink">#</a></p><p class="src"><a href="#v:gmapQl">gmapQl</a> :: (r -&gt; r' -&gt; r) -&gt; r -&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; r') -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; r <a href="../base-4.10.0.0/src/Data-Data.html#gmapQl" class="link">Source</a> <a href="#v:gmapQl" class="selflink">#</a></p><p class="src"><a href="#v:gmapQr">gmapQr</a> :: (r' -&gt; r -&gt; r) -&gt; r -&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; r') -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; r <a href="../base-4.10.0.0/src/Data-Data.html#gmapQr" class="link">Source</a> <a href="#v:gmapQr" class="selflink">#</a></p><p class="src"><a href="#v:gmapQ">gmapQ</a> :: (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; u) -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; [u] <a href="../base-4.10.0.0/src/Data-Data.html#gmapQ" class="link">Source</a> <a href="#v:gmapQ" class="selflink">#</a></p><p class="src"><a href="#v:gmapQi">gmapQi</a> :: <a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a> -&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; u) -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; u <a href="../base-4.10.0.0/src/Data-Data.html#gmapQi" class="link">Source</a> <a href="#v:gmapQi" class="selflink">#</a></p><p class="src"><a href="#v:gmapM">gmapM</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; m d) -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; m (<a href="CoreSyn.html#t:Tickish">Tickish</a> id) <a href="../base-4.10.0.0/src/Data-Data.html#gmapM" class="link">Source</a> <a href="#v:gmapM" class="selflink">#</a></p><p class="src"><a href="#v:gmapMp">gmapMp</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:MonadPlus">MonadPlus</a> m =&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; m d) -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; m (<a href="CoreSyn.html#t:Tickish">Tickish</a> id) <a href="../base-4.10.0.0/src/Data-Data.html#gmapMp" class="link">Source</a> <a href="#v:gmapMp" class="selflink">#</a></p><p class="src"><a href="#v:gmapMo">gmapMo</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:MonadPlus">MonadPlus</a> m =&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; m d) -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; m (<a href="CoreSyn.html#t:Tickish">Tickish</a> id) <a href="../base-4.10.0.0/src/Data-Data.html#gmapMo" class="link">Source</a> <a href="#v:gmapMo" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Tickish:Ord:3" class="instance expander" onclick="toggleSection('i:id:Tickish:Ord:3')"></span> <a href="../base-4.10.0.0/Data-Ord.html#t:Ord">Ord</a> id =&gt; <a href="../base-4.10.0.0/Data-Ord.html#t:Ord">Ord</a> (<a href="CoreSyn.html#t:Tickish">Tickish</a> id)</span> <a href="#t:Tickish" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Tickish:Ord:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="../base-4.10.0.0/Data-Ord.html#t:Ordering">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id <a href="#v:min" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TickishScoping" class="def">TickishScoping</a> <a href="src/CoreSyn.html#TickishScoping" class="link">Source</a> <a href="#t:TickishScoping" class="selflink">#</a></p><div class="doc"><p>Specifies the scoping behaviour of ticks. This governs the
 behaviour of ticks that care about the covered code and the cost
 associated with it. Important for ticks relating to profiling.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NoScope" class="def">NoScope</a></td><td class="doc"><p>No scoping: The tick does not care about what code it
 covers. Transformations can freely move code inside as well as
 outside without any additional annotation obligations</p></td></tr><tr><td class="src"><a id="v:SoftScope" class="def">SoftScope</a></td><td class="doc"><p>Soft scoping: We want all code that is covered to stay
 covered.  Note that this scope type does not forbid
 transformations from happening, as as long as all results of
 the transformations are still covered by this tick or a copy of
 it. For example</p><p>let x = tick<a href="...">...</a> (let y = foo in bar) in baz
     ===&gt;
   let x = tick<a href="...">...</a> bar; y = tick<a href="...">...</a> foo in baz</p><p>Is a valid transformation as far as &quot;bar&quot; and &quot;foo&quot; is
 concerned, because both still are scoped over by the tick.</p><p>Note though that one might object to the &quot;let&quot; not being
 covered by the tick any more. However, we are generally lax
 with this - constant costs don't matter too much, and given
 that the &quot;let&quot; was effectively merged we can view it as having
 lost its identity anyway.</p><p>Also note that this scoping behaviour allows floating a tick
 &quot;upwards&quot; in pretty much any situation. For example:</p><p>case foo of x -&gt; tick<a href="...">...</a> bar
     ==&gt;
   tick<a href="...">...</a> case foo of x -&gt; bar</p><p>While this is always leagl, we want to make a best effort to
 only make us of this where it exposes transformation
 opportunities.</p></td></tr><tr><td class="src"><a id="v:CostCentreScope" class="def">CostCentreScope</a></td><td class="doc"><p>Cost centre scoping: We don't want any costs to move to other
 cost-centre stacks. This means we not only want no code or cost
 to get moved out of their cost centres, but we also object to
 code getting associated with new cost-centre ticks - or
 changing the order in which they get applied.</p><p>A rule of thumb is that we don't want any code to gain new
 annotations. However, there are notable exceptions, for
 example:</p><p>let f = y -&gt; foo in tick<a href="...">...</a> ... (f x) ...
     ==&gt;
   tick<a href="...">...</a> ... foo[x/y] ...</p><p>In-lining lambdas like this is always legal, because inlining a
 function does not change the cost-centre stack when the
 function is called.</p></td></tr></table></div><div class="subs instances"><p id="control.i:TickishScoping" class="caption collapser" onclick="toggleSection('i:TickishScoping')">Instances</p><div id="section.i:TickishScoping" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TickishScoping:Eq:1" class="instance expander" onclick="toggleSection('i:id:TickishScoping:Eq:1')"></span> <a href="../base-4.10.0.0/Data-Eq.html#t:Eq">Eq</a> <a href="CoreSyn.html#t:TickishScoping">TickishScoping</a></span> <a href="#t:TickishScoping" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TickishScoping:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="CoreSyn.html#t:TickishScoping">TickishScoping</a> -&gt; <a href="CoreSyn.html#t:TickishScoping">TickishScoping</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="CoreSyn.html#t:TickishScoping">TickishScoping</a> -&gt; <a href="CoreSyn.html#t:TickishScoping">TickishScoping</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TickishPlacement" class="def">TickishPlacement</a> <a href="src/CoreSyn.html#TickishPlacement" class="link">Source</a> <a href="#t:TickishPlacement" class="selflink">#</a></p><div class="doc"><p>Governs the kind of expression that the tick gets placed on when
 annotating for example using <code>mkTick</code>. If we find that we want to
 put a tickish on an expression ruled out here, we try to float it
 inwards until we find a suitable expression.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PlaceRuntime" class="def">PlaceRuntime</a></td><td class="doc"><p>Place ticks exactly on run-time expressions. We can still
 move the tick through pure compile-time constructs such as
 other ticks, casts or type lambdas. This is the most
 restrictive placement rule for ticks, as all tickishs have in
 common that they want to track runtime processes. The only
 legal placement rule for counting ticks.</p></td></tr><tr><td class="src"><a id="v:PlaceNonLam" class="def">PlaceNonLam</a></td><td class="doc"><p>As <code>PlaceRuntime</code>, but we float the tick through all
 lambdas. This makes sense where there is little difference
 between annotating the lambda and annotating the lambda's code.</p></td></tr><tr><td class="src"><a id="v:PlaceCostCentre" class="def">PlaceCostCentre</a></td><td class="doc"><p>In addition to floating through lambdas, cost-centre style
 tickishs can also be moved from constructors, non-function
 variables and literals. For example:</p><p>let x = scc<a href="...">...</a> C (scc<a href="...">...</a> y) (scc<a href="...">...</a> 3) in ...</p><p>Neither the constructor application, the variable or the
 literal are likely to have any cost worth mentioning. And even
 if y names a thunk, the call would not care about the
 evaluation context. Therefore removing all annotations in the
 above example is safe.</p></td></tr></table></div><div class="subs instances"><p id="control.i:TickishPlacement" class="caption collapser" onclick="toggleSection('i:TickishPlacement')">Instances</p><div id="section.i:TickishPlacement" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TickishPlacement:Eq:1" class="instance expander" onclick="toggleSection('i:id:TickishPlacement:Eq:1')"></span> <a href="../base-4.10.0.0/Data-Eq.html#t:Eq">Eq</a> <a href="CoreSyn.html#t:TickishPlacement">TickishPlacement</a></span> <a href="#t:TickishPlacement" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TickishPlacement:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="CoreSyn.html#t:TickishPlacement">TickishPlacement</a> -&gt; <a href="CoreSyn.html#t:TickishPlacement">TickishPlacement</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="CoreSyn.html#t:TickishPlacement">TickishPlacement</a> -&gt; <a href="CoreSyn.html#t:TickishPlacement">TickishPlacement</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:CoreProgram" class="def">CoreProgram</a> = [<a href="CoreSyn.html#t:CoreBind">CoreBind</a>] <a href="src/CoreSyn.html#CoreProgram" class="link">Source</a> <a href="#t:CoreProgram" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:CoreExpr" class="def">CoreExpr</a> = <a href="CoreSyn.html#t:Expr">Expr</a> <a href="CoreSyn.html#t:CoreBndr">CoreBndr</a> <a href="src/CoreSyn.html#CoreExpr" class="link">Source</a> <a href="#t:CoreExpr" class="selflink">#</a></p><div class="doc"><p>Expressions where binders are <code><a href="CoreSyn.html#t:CoreBndr">CoreBndr</a></code>s</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:CoreAlt" class="def">CoreAlt</a> = <a href="CoreSyn.html#t:Alt">Alt</a> <a href="CoreSyn.html#t:CoreBndr">CoreBndr</a> <a href="src/CoreSyn.html#CoreAlt" class="link">Source</a> <a href="#t:CoreAlt" class="selflink">#</a></p><div class="doc"><p>Case alternatives where binders are <code><a href="CoreSyn.html#t:CoreBndr">CoreBndr</a></code>s</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:CoreBind" class="def">CoreBind</a> = <a href="CoreSyn.html#t:Bind">Bind</a> <a href="CoreSyn.html#t:CoreBndr">CoreBndr</a> <a href="src/CoreSyn.html#CoreBind" class="link">Source</a> <a href="#t:CoreBind" class="selflink">#</a></p><div class="doc"><p>Binding groups where binders are <code><a href="CoreSyn.html#t:CoreBndr">CoreBndr</a></code>s</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:CoreArg" class="def">CoreArg</a> = <a href="CoreSyn.html#t:Arg">Arg</a> <a href="CoreSyn.html#t:CoreBndr">CoreBndr</a> <a href="src/CoreSyn.html#CoreArg" class="link">Source</a> <a href="#t:CoreArg" class="selflink">#</a></p><div class="doc"><p>Argument expressions where binders are <code><a href="CoreSyn.html#t:CoreBndr">CoreBndr</a></code>s</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:CoreBndr" class="def">CoreBndr</a> = <a href="Var.html#t:Var">Var</a> <a href="src/CoreSyn.html#CoreBndr" class="link">Source</a> <a href="#t:CoreBndr" class="selflink">#</a></p><div class="doc"><p>The common case for the type of binders and variables when
 we are manipulating the Core language within GHC</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:TaggedExpr" class="def">TaggedExpr</a> t = <a href="CoreSyn.html#t:Expr">Expr</a> (<a href="CoreSyn.html#t:TaggedBndr">TaggedBndr</a> t) <a href="src/CoreSyn.html#TaggedExpr" class="link">Source</a> <a href="#t:TaggedExpr" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:TaggedAlt" class="def">TaggedAlt</a> t = <a href="CoreSyn.html#t:Alt">Alt</a> (<a href="CoreSyn.html#t:TaggedBndr">TaggedBndr</a> t) <a href="src/CoreSyn.html#TaggedAlt" class="link">Source</a> <a href="#t:TaggedAlt" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:TaggedBind" class="def">TaggedBind</a> t = <a href="CoreSyn.html#t:Bind">Bind</a> (<a href="CoreSyn.html#t:TaggedBndr">TaggedBndr</a> t) <a href="src/CoreSyn.html#TaggedBind" class="link">Source</a> <a href="#t:TaggedBind" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:TaggedArg" class="def">TaggedArg</a> t = <a href="CoreSyn.html#t:Arg">Arg</a> (<a href="CoreSyn.html#t:TaggedBndr">TaggedBndr</a> t) <a href="src/CoreSyn.html#TaggedArg" class="link">Source</a> <a href="#t:TaggedArg" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TaggedBndr" class="def">TaggedBndr</a> t <a href="src/CoreSyn.html#TaggedBndr" class="link">Source</a> <a href="#t:TaggedBndr" class="selflink">#</a></p><div class="doc"><p>Binders are <em>tagged</em> with a t</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TB" class="def">TB</a> <a href="CoreSyn.html#t:CoreBndr">CoreBndr</a> t</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:TaggedBndr" class="caption collapser" onclick="toggleSection('i:TaggedBndr')">Instances</p><div id="section.i:TaggedBndr" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TaggedBndr:Outputable:1" class="instance expander" onclick="toggleSection('i:id:TaggedBndr:Outputable:1')"></span> <a href="Outputable.html#t:Outputable">Outputable</a> b =&gt; <a href="Outputable.html#t:Outputable">Outputable</a> (<a href="CoreSyn.html#t:TaggedBndr">TaggedBndr</a> b)</span> <a href="#t:TaggedBndr" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TaggedBndr:Outputable:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ppr">ppr</a> :: <a href="CoreSyn.html#t:TaggedBndr">TaggedBndr</a> b -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> <a href="src/Outputable.html#ppr" class="link">Source</a> <a href="#v:ppr" class="selflink">#</a></p><p class="src"><a href="#v:pprPrec">pprPrec</a> :: <a href="../base-4.10.0.0/Prelude.html#t:Rational">Rational</a> -&gt; <a href="CoreSyn.html#t:TaggedBndr">TaggedBndr</a> b -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> <a href="src/Outputable.html#pprPrec" class="link">Source</a> <a href="#v:pprPrec" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:deTagExpr" class="def">deTagExpr</a> :: <a href="CoreSyn.html#t:TaggedExpr">TaggedExpr</a> t -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/CoreSyn.html#deTagExpr" class="link">Source</a> <a href="#v:deTagExpr" class="selflink">#</a></p></div><h1 id="g:2">In/Out type synonyms</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:InId" class="def">InId</a> = <a href="Var.html#t:Id">Id</a> <a href="src/Var.html#InId" class="link">Source</a> <a href="#t:InId" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:InBind" class="def">InBind</a> = <a href="CoreSyn.html#t:CoreBind">CoreBind</a> <a href="src/CoreSyn.html#InBind" class="link">Source</a> <a href="#t:InBind" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:InExpr" class="def">InExpr</a> = <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/CoreSyn.html#InExpr" class="link">Source</a> <a href="#t:InExpr" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:InAlt" class="def">InAlt</a> = <a href="CoreSyn.html#t:CoreAlt">CoreAlt</a> <a href="src/CoreSyn.html#InAlt" class="link">Source</a> <a href="#t:InAlt" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:InArg" class="def">InArg</a> = <a href="CoreSyn.html#t:CoreArg">CoreArg</a> <a href="src/CoreSyn.html#InArg" class="link">Source</a> <a href="#t:InArg" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:InType" class="def">InType</a> = <a href="Type.html#t:Type">Type</a> <a href="src/CoreSyn.html#InType" class="link">Source</a> <a href="#t:InType" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:InKind" class="def">InKind</a> = <a href="Kind.html#t:Kind">Kind</a> <a href="src/CoreSyn.html#InKind" class="link">Source</a> <a href="#t:InKind" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:InBndr" class="def">InBndr</a> = <a href="CoreSyn.html#t:CoreBndr">CoreBndr</a> <a href="src/CoreSyn.html#InBndr" class="link">Source</a> <a href="#t:InBndr" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:InVar" class="def">InVar</a> = <a href="Var.html#t:Var">Var</a> <a href="src/Var.html#InVar" class="link">Source</a> <a href="#t:InVar" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:InCoercion" class="def">InCoercion</a> = <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/CoreSyn.html#InCoercion" class="link">Source</a> <a href="#t:InCoercion" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:InTyVar" class="def">InTyVar</a> = <a href="Var.html#t:TyVar">TyVar</a> <a href="src/Var.html#InTyVar" class="link">Source</a> <a href="#t:InTyVar" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:InCoVar" class="def">InCoVar</a> = <a href="Var.html#t:CoVar">CoVar</a> <a href="src/Var.html#InCoVar" class="link">Source</a> <a href="#t:InCoVar" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:OutId" class="def">OutId</a> = <a href="Var.html#t:Id">Id</a> <a href="src/Var.html#OutId" class="link">Source</a> <a href="#t:OutId" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:OutBind" class="def">OutBind</a> = <a href="CoreSyn.html#t:CoreBind">CoreBind</a> <a href="src/CoreSyn.html#OutBind" class="link">Source</a> <a href="#t:OutBind" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:OutExpr" class="def">OutExpr</a> = <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/CoreSyn.html#OutExpr" class="link">Source</a> <a href="#t:OutExpr" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:OutAlt" class="def">OutAlt</a> = <a href="CoreSyn.html#t:CoreAlt">CoreAlt</a> <a href="src/CoreSyn.html#OutAlt" class="link">Source</a> <a href="#t:OutAlt" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:OutArg" class="def">OutArg</a> = <a href="CoreSyn.html#t:CoreArg">CoreArg</a> <a href="src/CoreSyn.html#OutArg" class="link">Source</a> <a href="#t:OutArg" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:OutType" class="def">OutType</a> = <a href="Type.html#t:Type">Type</a> <a href="src/CoreSyn.html#OutType" class="link">Source</a> <a href="#t:OutType" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:OutKind" class="def">OutKind</a> = <a href="Kind.html#t:Kind">Kind</a> <a href="src/CoreSyn.html#OutKind" class="link">Source</a> <a href="#t:OutKind" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:OutBndr" class="def">OutBndr</a> = <a href="CoreSyn.html#t:CoreBndr">CoreBndr</a> <a href="src/CoreSyn.html#OutBndr" class="link">Source</a> <a href="#t:OutBndr" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:OutVar" class="def">OutVar</a> = <a href="Var.html#t:Var">Var</a> <a href="src/Var.html#OutVar" class="link">Source</a> <a href="#t:OutVar" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:OutCoercion" class="def">OutCoercion</a> = <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/CoreSyn.html#OutCoercion" class="link">Source</a> <a href="#t:OutCoercion" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:OutTyVar" class="def">OutTyVar</a> = <a href="Var.html#t:TyVar">TyVar</a> <a href="src/Var.html#OutTyVar" class="link">Source</a> <a href="#t:OutTyVar" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:OutCoVar" class="def">OutCoVar</a> = <a href="Var.html#t:CoVar">CoVar</a> <a href="src/Var.html#OutCoVar" class="link">Source</a> <a href="#t:OutCoVar" class="selflink">#</a></p></div><h2 id="g:3"><code><a href="CoreSyn.html#t:Expr">Expr</a></code> construction</h2><div class="top"><p class="src"><a id="v:mkLet" class="def">mkLet</a> :: <a href="CoreSyn.html#t:Bind">Bind</a> b -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <a href="src/CoreSyn.html#mkLet" class="link">Source</a> <a href="#v:mkLet" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkLets" class="def">mkLets</a> :: [<a href="CoreSyn.html#t:Bind">Bind</a> b] -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <a href="src/CoreSyn.html#mkLets" class="link">Source</a> <a href="#v:mkLets" class="selflink">#</a></p><div class="doc"><p>Bind all supplied binding groups over an expression in a nested let expression. Assumes
 that the rhs satisfies the let/app invariant.  Prefer to use <code><a href="MkCore.html#v:mkCoreLets">mkCoreLets</a></code> if
 possible, which does guarantee the invariant</p></div></div><div class="top"><p class="src"><a id="v:mkLetNonRec" class="def">mkLetNonRec</a> :: b -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <a href="src/CoreSyn.html#mkLetNonRec" class="link">Source</a> <a href="#v:mkLetNonRec" class="selflink">#</a></p><div class="doc"><p><code>mkLetNonRec bndr rhs body</code> wraps <code>body</code> in a <code>let</code> binding <code>bndr</code>.</p></div></div><div class="top"><p class="src"><a id="v:mkLetRec" class="def">mkLetRec</a> :: [(b, <a href="CoreSyn.html#t:Expr">Expr</a> b)] -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <a href="src/CoreSyn.html#mkLetRec" class="link">Source</a> <a href="#v:mkLetRec" class="selflink">#</a></p><div class="doc"><p><code>mkLetRec binds body</code> wraps <code>body</code> in a <code>let rec</code> with the given set of
 <code>binds</code> if binds is non-empty.</p></div></div><div class="top"><p class="src"><a id="v:mkLams" class="def">mkLams</a> :: [b] -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <a href="src/CoreSyn.html#mkLams" class="link">Source</a> <a href="#v:mkLams" class="selflink">#</a></p><div class="doc"><p>Bind all supplied binders over an expression in a nested lambda expression. Prefer to
 use <code><a href="MkCore.html#v:mkCoreLams">mkCoreLams</a></code> if possible</p></div></div><div class="top"><p class="src"><a id="v:mkApps" class="def">mkApps</a> :: <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; [<a href="CoreSyn.html#t:Arg">Arg</a> b] -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <span class="fixity">infixl 4</span><span class="rightedge"></span> <a href="src/CoreSyn.html#mkApps" class="link">Source</a> <a href="#v:mkApps" class="selflink">#</a></p><div class="doc"><p>Apply a list of argument expressions to a function expression in a nested fashion. Prefer to
 use <code><a href="MkCore.html#v:mkCoreApps">mkCoreApps</a></code> if possible</p></div></div><div class="top"><p class="src"><a id="v:mkTyApps" class="def">mkTyApps</a> :: <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; [<a href="Type.html#t:Type">Type</a>] -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <span class="fixity">infixl 4</span><span class="rightedge"></span> <a href="src/CoreSyn.html#mkTyApps" class="link">Source</a> <a href="#v:mkTyApps" class="selflink">#</a></p><div class="doc"><p>Apply a list of type argument expressions to a function expression in a nested fashion</p></div></div><div class="top"><p class="src"><a id="v:mkCoApps" class="def">mkCoApps</a> :: <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; [<a href="Coercion.html#t:Coercion">Coercion</a>] -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <span class="fixity">infixl 4</span><span class="rightedge"></span> <a href="src/CoreSyn.html#mkCoApps" class="link">Source</a> <a href="#v:mkCoApps" class="selflink">#</a></p><div class="doc"><p>Apply a list of coercion argument expressions to a function expression in a nested fashion</p></div></div><div class="top"><p class="src"><a id="v:mkVarApps" class="def">mkVarApps</a> :: <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; [<a href="Var.html#t:Var">Var</a>] -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <span class="fixity">infixl 4</span><span class="rightedge"></span> <a href="src/CoreSyn.html#mkVarApps" class="link">Source</a> <a href="#v:mkVarApps" class="selflink">#</a></p><div class="doc"><p>Apply a list of type or value variables to a function expression in a nested fashion</p></div></div><div class="top"><p class="src"><a id="v:mkTyArg" class="def">mkTyArg</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <a href="src/CoreSyn.html#mkTyArg" class="link">Source</a> <a href="#v:mkTyArg" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkIntLit" class="def">mkIntLit</a> :: <a href="DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.0.0/Prelude.html#t:Integer">Integer</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <a href="src/CoreSyn.html#mkIntLit" class="link">Source</a> <a href="#v:mkIntLit" class="selflink">#</a></p><div class="doc"><p>Create a machine integer literal expression of type <code>Int#</code> from an <code>Integer</code>.
 If you want an expression of type <code>Int</code> use <code><a href="MkCore.html#v:mkIntExpr">mkIntExpr</a></code></p></div></div><div class="top"><p class="src"><a id="v:mkIntLitInt" class="def">mkIntLitInt</a> :: <a href="DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <a href="src/CoreSyn.html#mkIntLitInt" class="link">Source</a> <a href="#v:mkIntLitInt" class="selflink">#</a></p><div class="doc"><p>Create a machine integer literal expression of type <code>Int#</code> from an <code>Int</code>.
 If you want an expression of type <code>Int</code> use <code><a href="MkCore.html#v:mkIntExpr">mkIntExpr</a></code></p></div></div><div class="top"><p class="src"><a id="v:mkWordLit" class="def">mkWordLit</a> :: <a href="DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.0.0/Prelude.html#t:Integer">Integer</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <a href="src/CoreSyn.html#mkWordLit" class="link">Source</a> <a href="#v:mkWordLit" class="selflink">#</a></p><div class="doc"><p>Create a machine word literal expression of type  <code>Word#</code> from an <code>Integer</code>.
 If you want an expression of type <code>Word</code> use <code><a href="MkCore.html#v:mkWordExpr">mkWordExpr</a></code></p></div></div><div class="top"><p class="src"><a id="v:mkWordLitWord" class="def">mkWordLitWord</a> :: <a href="DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.0.0/Data-Word.html#t:Word">Word</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <a href="src/CoreSyn.html#mkWordLitWord" class="link">Source</a> <a href="#v:mkWordLitWord" class="selflink">#</a></p><div class="doc"><p>Create a machine word literal expression of type  <code>Word#</code> from a <code>Word</code>.
 If you want an expression of type <code>Word</code> use <code><a href="MkCore.html#v:mkWordExpr">mkWordExpr</a></code></p></div></div><div class="top"><p class="src"><a id="v:mkWord64LitWord64" class="def">mkWord64LitWord64</a> :: <a href="../base-4.10.0.0/Data-Word.html#t:Word64">Word64</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <a href="src/CoreSyn.html#mkWord64LitWord64" class="link">Source</a> <a href="#v:mkWord64LitWord64" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkInt64LitInt64" class="def">mkInt64LitInt64</a> :: <a href="../base-4.10.0.0/Data-Int.html#t:Int64">Int64</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <a href="src/CoreSyn.html#mkInt64LitInt64" class="link">Source</a> <a href="#v:mkInt64LitInt64" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkCharLit" class="def">mkCharLit</a> :: <a href="../base-4.10.0.0/Data-Char.html#t:Char">Char</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <a href="src/CoreSyn.html#mkCharLit" class="link">Source</a> <a href="#v:mkCharLit" class="selflink">#</a></p><div class="doc"><p>Create a machine character literal expression of type <code>Char#</code>.
 If you want an expression of type <code>Char</code> use <code><a href="MkCore.html#v:mkCharExpr">mkCharExpr</a></code></p></div></div><div class="top"><p class="src"><a id="v:mkStringLit" class="def">mkStringLit</a> :: <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <a href="src/CoreSyn.html#mkStringLit" class="link">Source</a> <a href="#v:mkStringLit" class="selflink">#</a></p><div class="doc"><p>Create a machine string literal expression of type <code>Addr#</code>.
 If you want an expression of type <code>String</code> use <code><a href="MkCore.html#v:mkStringExpr">mkStringExpr</a></code></p></div></div><div class="top"><p class="src"><a id="v:mkFloatLit" class="def">mkFloatLit</a> :: <a href="../base-4.10.0.0/Prelude.html#t:Rational">Rational</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <a href="src/CoreSyn.html#mkFloatLit" class="link">Source</a> <a href="#v:mkFloatLit" class="selflink">#</a></p><div class="doc"><p>Create a machine single precision literal expression of type <code>Float#</code> from a <code>Rational</code>.
 If you want an expression of type <code>Float</code> use <code><a href="MkCore.html#v:mkFloatExpr">mkFloatExpr</a></code></p></div></div><div class="top"><p class="src"><a id="v:mkFloatLitFloat" class="def">mkFloatLitFloat</a> :: <a href="../base-4.10.0.0/Prelude.html#t:Float">Float</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <a href="src/CoreSyn.html#mkFloatLitFloat" class="link">Source</a> <a href="#v:mkFloatLitFloat" class="selflink">#</a></p><div class="doc"><p>Create a machine single precision literal expression of type <code>Float#</code> from a <code>Float</code>.
 If you want an expression of type <code>Float</code> use <code><a href="MkCore.html#v:mkFloatExpr">mkFloatExpr</a></code></p></div></div><div class="top"><p class="src"><a id="v:mkDoubleLit" class="def">mkDoubleLit</a> :: <a href="../base-4.10.0.0/Prelude.html#t:Rational">Rational</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <a href="src/CoreSyn.html#mkDoubleLit" class="link">Source</a> <a href="#v:mkDoubleLit" class="selflink">#</a></p><div class="doc"><p>Create a machine double precision literal expression of type <code>Double#</code> from a <code>Rational</code>.
 If you want an expression of type <code>Double</code> use <code><a href="MkCore.html#v:mkDoubleExpr">mkDoubleExpr</a></code></p></div></div><div class="top"><p class="src"><a id="v:mkDoubleLitDouble" class="def">mkDoubleLitDouble</a> :: <a href="../base-4.10.0.0/Prelude.html#t:Double">Double</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <a href="src/CoreSyn.html#mkDoubleLitDouble" class="link">Source</a> <a href="#v:mkDoubleLitDouble" class="selflink">#</a></p><div class="doc"><p>Create a machine double precision literal expression of type <code>Double#</code> from a <code>Double</code>.
 If you want an expression of type <code>Double</code> use <code><a href="MkCore.html#v:mkDoubleExpr">mkDoubleExpr</a></code></p></div></div><div class="top"><p class="src"><a id="v:mkConApp" class="def">mkConApp</a> :: <a href="DataCon.html#t:DataCon">DataCon</a> -&gt; [<a href="CoreSyn.html#t:Arg">Arg</a> b] -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <a href="src/CoreSyn.html#mkConApp" class="link">Source</a> <a href="#v:mkConApp" class="selflink">#</a></p><div class="doc"><p>Apply a list of argument expressions to a data constructor in a nested fashion. Prefer to
 use <code><a href="MkCore.html#v:mkCoreConApps">mkCoreConApps</a></code> if possible</p></div></div><div class="top"><p class="src"><a id="v:mkConApp2" class="def">mkConApp2</a> :: <a href="DataCon.html#t:DataCon">DataCon</a> -&gt; [<a href="Type.html#t:Type">Type</a>] -&gt; [<a href="Var.html#t:Var">Var</a>] -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <a href="src/CoreSyn.html#mkConApp2" class="link">Source</a> <a href="#v:mkConApp2" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkTyBind" class="def">mkTyBind</a> :: <a href="Var.html#t:TyVar">TyVar</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="CoreSyn.html#t:CoreBind">CoreBind</a> <a href="src/CoreSyn.html#mkTyBind" class="link">Source</a> <a href="#v:mkTyBind" class="selflink">#</a></p><div class="doc"><p>Create a binding group where a type variable is bound to a type. Per <a href="CoreSyn.html#type_let">CoreSyn</a>,
 this can only be used to bind something in a non-recursive <code>let</code> expression</p></div></div><div class="top"><p class="src"><a id="v:mkCoBind" class="def">mkCoBind</a> :: <a href="Var.html#t:CoVar">CoVar</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="CoreSyn.html#t:CoreBind">CoreBind</a> <a href="src/CoreSyn.html#mkCoBind" class="link">Source</a> <a href="#v:mkCoBind" class="selflink">#</a></p><div class="doc"><p>Create a binding group where a type variable is bound to a type. Per <a href="CoreSyn.html#type_let">CoreSyn</a>,
 this can only be used to bind something in a non-recursive <code>let</code> expression</p></div></div><div class="top"><p class="src"><a id="v:varToCoreExpr" class="def">varToCoreExpr</a> :: <a href="CoreSyn.html#t:CoreBndr">CoreBndr</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b <a href="src/CoreSyn.html#varToCoreExpr" class="link">Source</a> <a href="#v:varToCoreExpr" class="selflink">#</a></p><div class="doc"><p>Convert a binder into either a <code><a href="Var.html#t:Var">Var</a></code> or <code><a href="Type.html#t:Type">Type</a></code> <code><a href="CoreSyn.html#t:Expr">Expr</a></code> appropriately</p></div></div><div class="top"><p class="src"><a id="v:varsToCoreExprs" class="def">varsToCoreExprs</a> :: [<a href="CoreSyn.html#t:CoreBndr">CoreBndr</a>] -&gt; [<a href="CoreSyn.html#t:Expr">Expr</a> b] <a href="src/CoreSyn.html#varsToCoreExprs" class="link">Source</a> <a href="#v:varsToCoreExprs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isId" class="def">isId</a> :: <a href="Var.html#t:Var">Var</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/Var.html#isId" class="link">Source</a> <a href="#v:isId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:cmpAltCon" class="def">cmpAltCon</a> :: <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="CoreSyn.html#t:AltCon">AltCon</a> -&gt; <a href="../base-4.10.0.0/Data-Ord.html#t:Ordering">Ordering</a> <a href="src/CoreSyn.html#cmpAltCon" class="link">Source</a> <a href="#v:cmpAltCon" class="selflink">#</a></p><div class="doc"><p>Compares <code><a href="CoreSyn.html#t:AltCon">AltCon</a></code>s within a single list of alternatives
 DEFAULT comes out smallest, so that sorting by AltCon
 puts alternatives in the order required by <a id="case_invariants"></a></p></div></div><div class="top"><p class="src"><a id="v:cmpAlt" class="def">cmpAlt</a> :: (<a href="CoreSyn.html#t:AltCon">AltCon</a>, a, b) -&gt; (<a href="CoreSyn.html#t:AltCon">AltCon</a>, a, b) -&gt; <a href="../base-4.10.0.0/Data-Ord.html#t:Ordering">Ordering</a> <a href="src/CoreSyn.html#cmpAlt" class="link">Source</a> <a href="#v:cmpAlt" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ltAlt" class="def">ltAlt</a> :: (<a href="CoreSyn.html#t:AltCon">AltCon</a>, a, b) -&gt; (<a href="CoreSyn.html#t:AltCon">AltCon</a>, a, b) -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#ltAlt" class="link">Source</a> <a href="#v:ltAlt" class="selflink">#</a></p></div><h2 id="g:4">Simple <code><a href="CoreSyn.html#t:Expr">Expr</a></code> access functions and predicates</h2><div class="top"><p class="src"><a id="v:bindersOf" class="def">bindersOf</a> :: <a href="CoreSyn.html#t:Bind">Bind</a> b -&gt; [b] <a href="src/CoreSyn.html#bindersOf" class="link">Source</a> <a href="#v:bindersOf" class="selflink">#</a></p><div class="doc"><p>Extract every variable by this group</p></div></div><div class="top"><p class="src"><a id="v:bindersOfBinds" class="def">bindersOfBinds</a> :: [<a href="CoreSyn.html#t:Bind">Bind</a> b] -&gt; [b] <a href="src/CoreSyn.html#bindersOfBinds" class="link">Source</a> <a href="#v:bindersOfBinds" class="selflink">#</a></p><div class="doc"><p><code><a href="CoreSyn.html#v:bindersOf">bindersOf</a></code> applied to a list of binding groups</p></div></div><div class="top"><p class="src"><a id="v:rhssOfBind" class="def">rhssOfBind</a> :: <a href="CoreSyn.html#t:Bind">Bind</a> b -&gt; [<a href="CoreSyn.html#t:Expr">Expr</a> b] <a href="src/CoreSyn.html#rhssOfBind" class="link">Source</a> <a href="#v:rhssOfBind" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:rhssOfAlts" class="def">rhssOfAlts</a> :: [<a href="CoreSyn.html#t:Alt">Alt</a> b] -&gt; [<a href="CoreSyn.html#t:Expr">Expr</a> b] <a href="src/CoreSyn.html#rhssOfAlts" class="link">Source</a> <a href="#v:rhssOfAlts" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:collectBinders" class="def">collectBinders</a> :: <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; ([b], <a href="CoreSyn.html#t:Expr">Expr</a> b) <a href="src/CoreSyn.html#collectBinders" class="link">Source</a> <a href="#v:collectBinders" class="selflink">#</a></p><div class="doc"><p>We often want to strip off leading lambdas before getting down to
 business. Variants are <code><a href="CoreSyn.html#v:collectTyBinders">collectTyBinders</a></code>, <code>collectValBinders</code>,
 and <code><a href="CoreSyn.html#v:collectTyAndValBinders">collectTyAndValBinders</a></code></p></div></div><div class="top"><p class="src"><a id="v:collectTyBinders" class="def">collectTyBinders</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; ([<a href="Var.html#t:TyVar">TyVar</a>], <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>) <a href="src/CoreSyn.html#collectTyBinders" class="link">Source</a> <a href="#v:collectTyBinders" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:collectTyAndValBinders" class="def">collectTyAndValBinders</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; ([<a href="Var.html#t:TyVar">TyVar</a>], [<a href="Var.html#t:Id">Id</a>], <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>) <a href="src/CoreSyn.html#collectTyAndValBinders" class="link">Source</a> <a href="#v:collectTyAndValBinders" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:collectNBinders" class="def">collectNBinders</a> :: <a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; ([b], <a href="CoreSyn.html#t:Expr">Expr</a> b) <a href="src/CoreSyn.html#collectNBinders" class="link">Source</a> <a href="#v:collectNBinders" class="selflink">#</a></p><div class="doc"><p>Strip off exactly N leading lambdas (type or value). Good for use with
 join points.</p></div></div><div class="top"><p class="src"><a id="v:collectArgs" class="def">collectArgs</a> :: <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; (<a href="CoreSyn.html#t:Expr">Expr</a> b, [<a href="CoreSyn.html#t:Arg">Arg</a> b]) <a href="src/CoreSyn.html#collectArgs" class="link">Source</a> <a href="#v:collectArgs" class="selflink">#</a></p><div class="doc"><p>Takes a nested application expression and returns the the function
 being applied and the arguments to which it is applied</p></div></div><div class="top"><p class="src"><a id="v:collectArgsTicks" class="def">collectArgsTicks</a> :: (<a href="CoreSyn.html#t:Tickish">Tickish</a> <a href="Var.html#t:Id">Id</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; (<a href="CoreSyn.html#t:Expr">Expr</a> b, [<a href="CoreSyn.html#t:Arg">Arg</a> b], [<a href="CoreSyn.html#t:Tickish">Tickish</a> <a href="Var.html#t:Id">Id</a>]) <a href="src/CoreSyn.html#collectArgsTicks" class="link">Source</a> <a href="#v:collectArgsTicks" class="selflink">#</a></p><div class="doc"><p>Like <code>collectArgs</code>, but also collects looks through floatable
 ticks if it means that we can find more arguments.</p></div></div><div class="top"><p class="src"><a id="v:flattenBinds" class="def">flattenBinds</a> :: [<a href="CoreSyn.html#t:Bind">Bind</a> b] -&gt; [(b, <a href="CoreSyn.html#t:Expr">Expr</a> b)] <a href="src/CoreSyn.html#flattenBinds" class="link">Source</a> <a href="#v:flattenBinds" class="selflink">#</a></p><div class="doc"><p>Collapse all the bindings in the supplied groups into a single
 list of lhs/rhs pairs suitable for binding in a <code><a href="CoreSyn.html#v:Rec">Rec</a></code> binding group</p></div></div><div class="top"><p class="src"><a id="v:exprToType" class="def">exprToType</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="Type.html#t:Type">Type</a> <a href="src/CoreSyn.html#exprToType" class="link">Source</a> <a href="#v:exprToType" class="selflink">#</a></p><div class="doc"><p>If the expression is a <code><a href="Type.html#t:Type">Type</a></code>, converts. Otherwise,
 panics. NB: This does <em>not</em> convert <code><a href="Coercion.html#t:Coercion">Coercion</a></code> to <code>CoercionTy</code>.</p></div></div><div class="top"><p class="src"><a id="v:exprToCoercion_maybe" class="def">exprToCoercion_maybe</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/CoreSyn.html#exprToCoercion_maybe" class="link">Source</a> <a href="#v:exprToCoercion_maybe" class="selflink">#</a></p><div class="doc"><p>If the expression is a <code><a href="Coercion.html#t:Coercion">Coercion</a></code>, converts.</p></div></div><div class="top"><p class="src"><a id="v:applyTypeToArg" class="def">applyTypeToArg</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="Type.html#t:Type">Type</a> <a href="src/CoreSyn.html#applyTypeToArg" class="link">Source</a> <a href="#v:applyTypeToArg" class="selflink">#</a></p><div class="doc"><p>Determines the type resulting from applying an expression with given type
 to a given argument expression</p></div></div><div class="top"><p class="src"><a id="v:isValArg" class="def">isValArg</a> :: <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#isValArg" class="link">Source</a> <a href="#v:isValArg" class="selflink">#</a></p><div class="doc"><p>Returns <code>True</code> for value arguments, false for type args
 NB: coercions are value arguments (zero width, to be sure,
 like State#, but still value args).</p></div></div><div class="top"><p class="src"><a id="v:isTypeArg" class="def">isTypeArg</a> :: <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#isTypeArg" class="link">Source</a> <a href="#v:isTypeArg" class="selflink">#</a></p><div class="doc"><p>Returns <code>True</code> iff the expression is a <code><a href="Type.html#t:Type">Type</a></code> expression at its
 top level.  Note this does NOT include <code><a href="Coercion.html#t:Coercion">Coercion</a></code>s.</p></div></div><div class="top"><p class="src"><a id="v:isTyCoArg" class="def">isTyCoArg</a> :: <a href="CoreSyn.html#t:Expr">Expr</a> b -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#isTyCoArg" class="link">Source</a> <a href="#v:isTyCoArg" class="selflink">#</a></p><div class="doc"><p>Returns <code>True</code> iff the expression is a <code><a href="Type.html#t:Type">Type</a></code> or <code><a href="Coercion.html#t:Coercion">Coercion</a></code>
 expression at its top level</p></div></div><div class="top"><p class="src"><a id="v:valArgCount" class="def">valArgCount</a> :: [<a href="CoreSyn.html#t:Arg">Arg</a> b] -&gt; <a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a> <a href="src/CoreSyn.html#valArgCount" class="link">Source</a> <a href="#v:valArgCount" class="selflink">#</a></p><div class="doc"><p>The number of argument expressions that are values rather than types at their top level</p></div></div><div class="top"><p class="src"><a id="v:valBndrCount" class="def">valBndrCount</a> :: [<a href="CoreSyn.html#t:CoreBndr">CoreBndr</a>] -&gt; <a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a> <a href="src/CoreSyn.html#valBndrCount" class="link">Source</a> <a href="#v:valBndrCount" class="selflink">#</a></p><div class="doc"><p>The number of binders that bind values rather than types</p></div></div><div class="top"><p class="src"><a id="v:isRuntimeArg" class="def">isRuntimeArg</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#isRuntimeArg" class="link">Source</a> <a href="#v:isRuntimeArg" class="selflink">#</a></p><div class="doc"><p>Will this argument expression exist at runtime?</p></div></div><div class="top"><p class="src"><a id="v:isRuntimeVar" class="def">isRuntimeVar</a> :: <a href="Var.html#t:Var">Var</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#isRuntimeVar" class="link">Source</a> <a href="#v:isRuntimeVar" class="selflink">#</a></p><div class="doc"><p>Will this variable exist at runtime?</p></div></div><h1 id="g:5">Tick-related functions</h1><div class="top"><p class="src"><a id="v:tickishCounts" class="def">tickishCounts</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#tickishCounts" class="link">Source</a> <a href="#v:tickishCounts" class="selflink">#</a></p><div class="doc"><p>A &quot;counting tick&quot; (where tickishCounts is True) is one that
 counts evaluations in some way.  We cannot discard a counting tick,
 and the compiler should preserve the number of counting ticks as
 far as possible.</p><p>However, we still allow the simplifier to increase or decrease
 sharing, so in practice the actual number of ticks may vary, except
 that we never change the value from zero to non-zero or vice versa.</p></div></div><div class="top"><p class="src"><a id="v:tickishScoped" class="def">tickishScoped</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="CoreSyn.html#t:TickishScoping">TickishScoping</a> <a href="src/CoreSyn.html#tickishScoped" class="link">Source</a> <a href="#v:tickishScoped" class="selflink">#</a></p><div class="doc"><p>Returns the intended scoping rule for a Tickish</p></div></div><div class="top"><p class="src"><a id="v:tickishScopesLike" class="def">tickishScopesLike</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="CoreSyn.html#t:TickishScoping">TickishScoping</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#tickishScopesLike" class="link">Source</a> <a href="#v:tickishScopesLike" class="selflink">#</a></p><div class="doc"><p>Returns whether the tick scoping rule is at least as permissive
 as the given scoping rule.</p></div></div><div class="top"><p class="src"><a id="v:tickishFloatable" class="def">tickishFloatable</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#tickishFloatable" class="link">Source</a> <a href="#v:tickishFloatable" class="selflink">#</a></p><div class="doc"><p>Returns <code>True</code> for ticks that can be floated upwards easily even
 where it might change execution counts, such as:</p><p>Just (tick<a href="...">...</a> foo)
     ==&gt;
   tick<a href="...">...</a> (Just foo)</p><p>This is a combination of <code>tickishSoftScope</code> and
 <code>tickishCounts</code>. Note that in principle splittable ticks can become
 floatable using <code>mkNoTick</code> -- even though there's currently no
 tickish for which that is the case.</p></div></div><div class="top"><p class="src"><a id="v:tickishCanSplit" class="def">tickishCanSplit</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#tickishCanSplit" class="link">Source</a> <a href="#v:tickishCanSplit" class="selflink">#</a></p><div class="doc"><p>Returns <code>True</code> for a tick that is both counting <em>and</em> scoping and
 can be split into its (tick, scope) parts using <code><a href="CoreSyn.html#v:mkNoScope">mkNoScope</a></code> and
 <code>mkNoTick</code> respectively.</p></div></div><div class="top"><p class="src"><a id="v:mkNoCount" class="def">mkNoCount</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id <a href="src/CoreSyn.html#mkNoCount" class="link">Source</a> <a href="#v:mkNoCount" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkNoScope" class="def">mkNoScope</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> id <a href="src/CoreSyn.html#mkNoScope" class="link">Source</a> <a href="#v:mkNoScope" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:tickishIsCode" class="def">tickishIsCode</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#tickishIsCode" class="link">Source</a> <a href="#v:tickishIsCode" class="selflink">#</a></p><div class="doc"><p>Return <code>True</code> if this source annotation compiles to some backend
 code. Without this flag, the tickish is seen as a simple annotation
 that does not have any associated evaluation code.</p><p>What this means that we are allowed to disregard the tick if doing
 so means that we can skip generating any code in the first place. A
 typical example is top-level bindings:</p><p>foo = tick<a href="...">...</a> y -&gt; ...
     ==&gt;
   foo = y -&gt; tick<a href="...">...</a> ...</p><p>Here there is just no operational difference between the first and
 the second version. Therefore code generation should simply
 translate the code as if it found the latter.</p></div></div><div class="top"><p class="src"><a id="v:tickishPlace" class="def">tickishPlace</a> :: <a href="CoreSyn.html#t:Tickish">Tickish</a> id -&gt; <a href="CoreSyn.html#t:TickishPlacement">TickishPlacement</a> <a href="src/CoreSyn.html#tickishPlace" class="link">Source</a> <a href="#v:tickishPlace" class="selflink">#</a></p><div class="doc"><p>Placement behaviour we want for the ticks</p></div></div><div class="top"><p class="src"><a id="v:tickishContains" class="def">tickishContains</a> :: <a href="../base-4.10.0.0/Data-Eq.html#t:Eq">Eq</a> b =&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> b -&gt; <a href="CoreSyn.html#t:Tickish">Tickish</a> b -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#tickishContains" class="link">Source</a> <a href="#v:tickishContains" class="selflink">#</a></p><div class="doc"><p>Returns whether one tick &quot;contains&quot; the other one, therefore
 making the second tick redundant.</p></div></div><h1 id="g:6">Unfolding data types</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Unfolding" class="def">Unfolding</a> <a href="src/CoreSyn.html#Unfolding" class="link">Source</a> <a href="#t:Unfolding" class="selflink">#</a></p><div class="doc"><p>Records the <em>unfolding</em> of an identifier, which is approximately the form the
 identifier would have if we substituted its definition in for the identifier.
 This type should be treated as abstract everywhere except in <a href="CoreUnfold.html">CoreUnfold</a></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NoUnfolding" class="def">NoUnfolding</a></td><td class="doc"><p>We have no information about the unfolding.</p></td></tr><tr><td class="src"><a id="v:BootUnfolding" class="def">BootUnfolding</a></td><td class="doc"><p>We have no information about the unfolding, because
 this <code><a href="Var.html#t:Id">Id</a></code> came from an <code>hi-boot</code> file.
 See Note [Inlining and hs-boot files] in ToIface
 for what this is used for.</p></td></tr><tr><td class="src"><a id="v:OtherCon" class="def">OtherCon</a> [<a href="CoreSyn.html#t:AltCon">AltCon</a>]</td><td class="doc"><p>It ain't one of these constructors.
 <code>OtherCon xs</code> also indicates that something has been evaluated
 and hence there's no point in re-evaluating it.
 <code>OtherCon []</code> is used even for non-data-type values
 to indicated evaluated-ness.  Notably:</p><pre>data C = C !(Int -&gt; Int)
case x of { C f -&gt; ... }</pre><p>Here, <code>f</code> gets an <code>OtherCon []</code> unfolding.</p></td></tr><tr><td class="src"><a id="v:DFunUnfolding" class="def">DFunUnfolding</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:df_bndrs" class="def">df_bndrs</a> :: [<a href="Var.html#t:Var">Var</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:df_con" class="def">df_con</a> :: <a href="DataCon.html#t:DataCon">DataCon</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:df_args" class="def">df_args</a> :: [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>]</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:CoreUnfolding" class="def">CoreUnfolding</a></td><td class="doc"><p>An unfolding with redundant cached information. Parameters:</p><p>uf_tmpl: Template used to perform unfolding;
           NB: Occurrence info is guaranteed correct:
               see Note [OccInfo in unfoldings and rules]</p><p>uf_is_top: Is this a top level binding?</p><p>uf_is_value: <code>exprIsHNF</code> template (cached); it is ok to discard a <code><a href="../base-4.10.0.0/Prelude.html#v:seq">seq</a></code> on
     this variable</p><p>uf_is_work_free:  Does this waste only a little work if we expand it inside an inlining?
     Basically this is a cached version of <code>exprIsWorkFree</code></p><p>uf_guidance:  Tells us about the <em>size</em> of the unfolding template</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:uf_tmpl" class="def">uf_tmpl</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:uf_src" class="def">uf_src</a> :: <a href="CoreSyn.html#t:UnfoldingSource">UnfoldingSource</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:uf_is_top" class="def">uf_is_top</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:uf_is_value" class="def">uf_is_value</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:uf_is_conlike" class="def">uf_is_conlike</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:uf_is_work_free" class="def">uf_is_work_free</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:uf_expandable" class="def">uf_expandable</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:uf_guidance" class="def">uf_guidance</a> :: <a href="CoreSyn.html#t:UnfoldingGuidance">UnfoldingGuidance</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:UnfoldingGuidance" class="def">UnfoldingGuidance</a> <a href="src/CoreSyn.html#UnfoldingGuidance" class="link">Source</a> <a href="#t:UnfoldingGuidance" class="selflink">#</a></p><div class="doc"><p><code><a href="CoreSyn.html#t:UnfoldingGuidance">UnfoldingGuidance</a></code> says when unfolding should take place</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:UnfWhen" class="def">UnfWhen</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:ug_arity" class="def">ug_arity</a> :: <a href="BasicTypes.html#t:Arity">Arity</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:ug_unsat_ok" class="def">ug_unsat_ok</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:ug_boring_ok" class="def">ug_boring_ok</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:UnfIfGoodArgs" class="def">UnfIfGoodArgs</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:ug_args" class="def">ug_args</a> :: [<a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:ug_size" class="def">ug_size</a> :: <a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:ug_res" class="def">ug_res</a> :: <a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:UnfNever" class="def">UnfNever</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:UnfoldingGuidance" class="caption collapser" onclick="toggleSection('i:UnfoldingGuidance')">Instances</p><div id="section.i:UnfoldingGuidance" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:UnfoldingGuidance:Eq:1" class="instance expander" onclick="toggleSection('i:id:UnfoldingGuidance:Eq:1')"></span> <a href="../base-4.10.0.0/Data-Eq.html#t:Eq">Eq</a> <a href="CoreSyn.html#t:UnfoldingGuidance">UnfoldingGuidance</a></span> <a href="#t:UnfoldingGuidance" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:UnfoldingGuidance:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="CoreSyn.html#t:UnfoldingGuidance">UnfoldingGuidance</a> -&gt; <a href="CoreSyn.html#t:UnfoldingGuidance">UnfoldingGuidance</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="CoreSyn.html#t:UnfoldingGuidance">UnfoldingGuidance</a> -&gt; <a href="CoreSyn.html#t:UnfoldingGuidance">UnfoldingGuidance</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:UnfoldingSource" class="def">UnfoldingSource</a> <a href="src/CoreSyn.html#UnfoldingSource" class="link">Source</a> <a href="#t:UnfoldingSource" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:InlineRhs" class="def">InlineRhs</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:InlineStable" class="def">InlineStable</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:InlineCompulsory" class="def">InlineCompulsory</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><h2 id="g:7">Constructing <code><a href="CoreSyn.html#t:Unfolding">Unfolding</a></code>s</h2><div class="top"><p class="src"><a id="v:noUnfolding" class="def">noUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> <a href="src/CoreSyn.html#noUnfolding" class="link">Source</a> <a href="#v:noUnfolding" class="selflink">#</a></p><div class="doc"><p>There is no known <code><a href="CoreSyn.html#t:Unfolding">Unfolding</a></code></p></div></div><div class="top"><p class="src"><a id="v:bootUnfolding" class="def">bootUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> <a href="src/CoreSyn.html#bootUnfolding" class="link">Source</a> <a href="#v:bootUnfolding" class="selflink">#</a></p><div class="doc"><p>There is no known <code><a href="CoreSyn.html#t:Unfolding">Unfolding</a></code>, because this came from an
 hi-boot file.</p></div></div><div class="top"><p class="src"><a id="v:evaldUnfolding" class="def">evaldUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> <a href="src/CoreSyn.html#evaldUnfolding" class="link">Source</a> <a href="#v:evaldUnfolding" class="selflink">#</a></p><div class="doc"><p>This unfolding marks the associated thing as being evaluated</p></div></div><div class="top"><p class="src"><a id="v:mkOtherCon" class="def">mkOtherCon</a> :: [<a href="CoreSyn.html#t:AltCon">AltCon</a>] -&gt; <a href="CoreSyn.html#t:Unfolding">Unfolding</a> <a href="src/CoreSyn.html#mkOtherCon" class="link">Source</a> <a href="#v:mkOtherCon" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:unSaturatedOk" class="def">unSaturatedOk</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#unSaturatedOk" class="link">Source</a> <a href="#v:unSaturatedOk" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:needSaturated" class="def">needSaturated</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#needSaturated" class="link">Source</a> <a href="#v:needSaturated" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:boringCxtOk" class="def">boringCxtOk</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#boringCxtOk" class="link">Source</a> <a href="#v:boringCxtOk" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:boringCxtNotOk" class="def">boringCxtNotOk</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#boringCxtNotOk" class="link">Source</a> <a href="#v:boringCxtNotOk" class="selflink">#</a></p></div><h2 id="g:8">Predicates and deconstruction on <code><a href="CoreSyn.html#t:Unfolding">Unfolding</a></code></h2><div class="top"><p class="src"><a id="v:unfoldingTemplate" class="def">unfoldingTemplate</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/CoreSyn.html#unfoldingTemplate" class="link">Source</a> <a href="#v:unfoldingTemplate" class="selflink">#</a></p><div class="doc"><p>Retrieves the template of an unfolding: panics if none is known</p></div></div><div class="top"><p class="src"><a id="v:expandUnfolding_maybe" class="def">expandUnfolding_maybe</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/CoreSyn.html#expandUnfolding_maybe" class="link">Source</a> <a href="#v:expandUnfolding_maybe" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:maybeUnfoldingTemplate" class="def">maybeUnfoldingTemplate</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/CoreSyn.html#maybeUnfoldingTemplate" class="link">Source</a> <a href="#v:maybeUnfoldingTemplate" class="selflink">#</a></p><div class="doc"><p>Retrieves the template of an unfolding if possible
 maybeUnfoldingTemplate is used mainly wnen specialising, and we do
 want to specialise DFuns, so it's important to return a template
 for DFunUnfoldings</p></div></div><div class="top"><p class="src"><a id="v:otherCons" class="def">otherCons</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; [<a href="CoreSyn.html#t:AltCon">AltCon</a>] <a href="src/CoreSyn.html#otherCons" class="link">Source</a> <a href="#v:otherCons" class="selflink">#</a></p><div class="doc"><p>The constructors that the unfolding could never be:
 returns <code>[]</code> if no information is available</p></div></div><div class="top"><p class="src"><a id="v:isValueUnfolding" class="def">isValueUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#isValueUnfolding" class="link">Source</a> <a href="#v:isValueUnfolding" class="selflink">#</a></p><div class="doc"><p>Determines if it is certainly the case that the unfolding will
 yield a value (something in HNF): returns <code>False</code> if unsure</p></div></div><div class="top"><p class="src"><a id="v:isEvaldUnfolding" class="def">isEvaldUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#isEvaldUnfolding" class="link">Source</a> <a href="#v:isEvaldUnfolding" class="selflink">#</a></p><div class="doc"><p>Determines if it possibly the case that the unfolding will
 yield a value. Unlike <code><a href="CoreSyn.html#v:isValueUnfolding">isValueUnfolding</a></code> it returns <code>True</code>
 for <code><a href="CoreSyn.html#v:OtherCon">OtherCon</a></code></p></div></div><div class="top"><p class="src"><a id="v:isCheapUnfolding" class="def">isCheapUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#isCheapUnfolding" class="link">Source</a> <a href="#v:isCheapUnfolding" class="selflink">#</a></p><div class="doc"><p>Is the thing we will unfold into certainly cheap?</p></div></div><div class="top"><p class="src"><a id="v:isExpandableUnfolding" class="def">isExpandableUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#isExpandableUnfolding" class="link">Source</a> <a href="#v:isExpandableUnfolding" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isConLikeUnfolding" class="def">isConLikeUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#isConLikeUnfolding" class="link">Source</a> <a href="#v:isConLikeUnfolding" class="selflink">#</a></p><div class="doc"><p><code>True</code> if the unfolding is a constructor application, the application
 of a CONLIKE function or <code><a href="CoreSyn.html#v:OtherCon">OtherCon</a></code></p></div></div><div class="top"><p class="src"><a id="v:isCompulsoryUnfolding" class="def">isCompulsoryUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#isCompulsoryUnfolding" class="link">Source</a> <a href="#v:isCompulsoryUnfolding" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isStableUnfolding" class="def">isStableUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#isStableUnfolding" class="link">Source</a> <a href="#v:isStableUnfolding" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isFragileUnfolding" class="def">isFragileUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#isFragileUnfolding" class="link">Source</a> <a href="#v:isFragileUnfolding" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:hasSomeUnfolding" class="def">hasSomeUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#hasSomeUnfolding" class="link">Source</a> <a href="#v:hasSomeUnfolding" class="selflink">#</a></p><div class="doc"><p>Only returns False if there is no unfolding information available at all</p></div></div><div class="top"><p class="src"><a id="v:isBootUnfolding" class="def">isBootUnfolding</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#isBootUnfolding" class="link">Source</a> <a href="#v:isBootUnfolding" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:canUnfold" class="def">canUnfold</a> :: <a href="CoreSyn.html#t:Unfolding">Unfolding</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#canUnfold" class="link">Source</a> <a href="#v:canUnfold" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:neverUnfoldGuidance" class="def">neverUnfoldGuidance</a> :: <a href="CoreSyn.html#t:UnfoldingGuidance">UnfoldingGuidance</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#neverUnfoldGuidance" class="link">Source</a> <a href="#v:neverUnfoldGuidance" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isStableSource" class="def">isStableSource</a> :: <a href="CoreSyn.html#t:UnfoldingSource">UnfoldingSource</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#isStableSource" class="link">Source</a> <a href="#v:isStableSource" class="selflink">#</a></p></div><h1 id="g:9">Annotated expression data types</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:AnnExpr" class="def">AnnExpr</a> bndr annot = (annot, <a href="CoreSyn.html#t:AnnExpr-39-">AnnExpr'</a> bndr annot) <a href="src/CoreSyn.html#AnnExpr" class="link">Source</a> <a href="#t:AnnExpr" class="selflink">#</a></p><div class="doc"><p>Annotated core: allows annotation at every node in the tree</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:AnnExpr-39-" class="def">AnnExpr'</a> bndr annot <a href="src/CoreSyn.html#AnnExpr%27" class="link">Source</a> <a href="#t:AnnExpr-39-" class="selflink">#</a></p><div class="doc"><p>A clone of the <code><a href="CoreSyn.html#t:Expr">Expr</a></code> type but allowing annotation at every tree node</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AnnVar" class="def">AnnVar</a> <a href="Var.html#t:Id">Id</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:AnnLit" class="def">AnnLit</a> <a href="Literal.html#t:Literal">Literal</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:AnnLam" class="def">AnnLam</a> bndr (<a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:AnnApp" class="def">AnnApp</a> (<a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot) (<a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:AnnCase" class="def">AnnCase</a> (<a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot) bndr <a href="Type.html#t:Type">Type</a> [<a href="CoreSyn.html#t:AnnAlt">AnnAlt</a> bndr annot]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:AnnLet" class="def">AnnLet</a> (<a href="CoreSyn.html#t:AnnBind">AnnBind</a> bndr annot) (<a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:AnnCast" class="def">AnnCast</a> (<a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot) (annot, <a href="Coercion.html#t:Coercion">Coercion</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:AnnTick" class="def">AnnTick</a> (<a href="CoreSyn.html#t:Tickish">Tickish</a> <a href="Var.html#t:Id">Id</a>) (<a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:AnnType" class="def">AnnType</a> <a href="Type.html#t:Type">Type</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:AnnCoercion" class="def">AnnCoercion</a> <a href="Coercion.html#t:Coercion">Coercion</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:AnnBind" class="def">AnnBind</a> bndr annot <a href="src/CoreSyn.html#AnnBind" class="link">Source</a> <a href="#t:AnnBind" class="selflink">#</a></p><div class="doc"><p>A clone of the <code><a href="CoreSyn.html#t:Bind">Bind</a></code> type but allowing annotation at every tree node</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AnnNonRec" class="def">AnnNonRec</a> bndr (<a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:AnnRec" class="def">AnnRec</a> [(bndr, <a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot)]</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:AnnAlt" class="def">AnnAlt</a> bndr annot = (<a href="CoreSyn.html#t:AltCon">AltCon</a>, [bndr], <a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot) <a href="src/CoreSyn.html#AnnAlt" class="link">Source</a> <a href="#t:AnnAlt" class="selflink">#</a></p><div class="doc"><p>A clone of the <code><a href="CoreSyn.html#t:Alt">Alt</a></code> type but allowing annotation at every tree node</p></div></div><h2 id="g:10">Operations on annotated expressions</h2><div class="top"><p class="src"><a id="v:collectAnnArgs" class="def">collectAnnArgs</a> :: <a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> b a -&gt; (<a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> b a, [<a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> b a]) <a href="src/CoreSyn.html#collectAnnArgs" class="link">Source</a> <a href="#v:collectAnnArgs" class="selflink">#</a></p><div class="doc"><p>Takes a nested application expression and returns the the function
 being applied and the arguments to which it is applied</p></div></div><div class="top"><p class="src"><a id="v:collectAnnArgsTicks" class="def">collectAnnArgsTicks</a> :: (<a href="CoreSyn.html#t:Tickish">Tickish</a> <a href="Var.html#t:Var">Var</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> b a -&gt; (<a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> b a, [<a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> b a], [<a href="CoreSyn.html#t:Tickish">Tickish</a> <a href="Var.html#t:Var">Var</a>]) <a href="src/CoreSyn.html#collectAnnArgsTicks" class="link">Source</a> <a href="#v:collectAnnArgsTicks" class="selflink">#</a></p></div><h2 id="g:11">Operations on annotations</h2><div class="top"><p class="src"><a id="v:deAnnotate" class="def">deAnnotate</a> :: <a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> bndr <a href="src/CoreSyn.html#deAnnotate" class="link">Source</a> <a href="#v:deAnnotate" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:deAnnotate-39-" class="def">deAnnotate'</a> :: <a href="CoreSyn.html#t:AnnExpr-39-">AnnExpr'</a> bndr annot -&gt; <a href="CoreSyn.html#t:Expr">Expr</a> bndr <a href="src/CoreSyn.html#deAnnotate%27" class="link">Source</a> <a href="#v:deAnnotate-39-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:deAnnAlt" class="def">deAnnAlt</a> :: <a href="CoreSyn.html#t:AnnAlt">AnnAlt</a> bndr annot -&gt; <a href="CoreSyn.html#t:Alt">Alt</a> bndr <a href="src/CoreSyn.html#deAnnAlt" class="link">Source</a> <a href="#v:deAnnAlt" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:collectAnnBndrs" class="def">collectAnnBndrs</a> :: <a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot -&gt; ([bndr], <a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot) <a href="src/CoreSyn.html#collectAnnBndrs" class="link">Source</a> <a href="#v:collectAnnBndrs" class="selflink">#</a></p><div class="doc"><p>As <code><a href="CoreSyn.html#v:collectBinders">collectBinders</a></code> but for <code><a href="CoreSyn.html#t:AnnExpr">AnnExpr</a></code> rather than <code><a href="CoreSyn.html#t:Expr">Expr</a></code></p></div></div><div class="top"><p class="src"><a id="v:collectNAnnBndrs" class="def">collectNAnnBndrs</a> :: <a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot -&gt; ([bndr], <a href="CoreSyn.html#t:AnnExpr">AnnExpr</a> bndr annot) <a href="src/CoreSyn.html#collectNAnnBndrs" class="link">Source</a> <a href="#v:collectNAnnBndrs" class="selflink">#</a></p><div class="doc"><p>As <code><a href="CoreSyn.html#v:collectNBinders">collectNBinders</a></code> but for <code><a href="CoreSyn.html#t:AnnExpr">AnnExpr</a></code> rather than <code><a href="CoreSyn.html#t:Expr">Expr</a></code></p></div></div><h1 id="g:12">Orphanhood</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:IsOrphan" class="def">IsOrphan</a> <a href="src/CoreSyn.html#IsOrphan" class="link">Source</a> <a href="#t:IsOrphan" class="selflink">#</a></p><div class="doc"><p>Is this instance an orphan?  If it is not an orphan, contains an <code><a href="OccName.html#t:OccName">OccName</a></code>
 witnessing the instance's non-orphanhood.
 See Note [Orphans]</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:IsOrphan" class="def">IsOrphan</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:NotOrphan" class="def">NotOrphan</a> <a href="OccName.html#t:OccName">OccName</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:IsOrphan" class="caption collapser" onclick="toggleSection('i:IsOrphan')">Instances</p><div id="section.i:IsOrphan" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:IsOrphan:Data:1" class="instance expander" onclick="toggleSection('i:id:IsOrphan:Data:1')"></span> <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a></span> <a href="#t:IsOrphan" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:IsOrphan:Data:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:gfoldl">gfoldl</a> :: (<span class="keyword">forall</span> d b. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; c (d -&gt; b) -&gt; d -&gt; c b) -&gt; (<span class="keyword">forall</span> g. g -&gt; c g) -&gt; <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> -&gt; c <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> <a href="../base-4.10.0.0/src/Data-Data.html#gfoldl" class="link">Source</a> <a href="#v:gfoldl" class="selflink">#</a></p><p class="src"><a href="#v:gunfold">gunfold</a> :: (<span class="keyword">forall</span> b r. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> b =&gt; c (b -&gt; r) -&gt; c r) -&gt; (<span class="keyword">forall</span> r. r -&gt; c r) -&gt; <a href="../base-4.10.0.0/Data-Data.html#t:Constr">Constr</a> -&gt; c <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> <a href="../base-4.10.0.0/src/Data-Data.html#gunfold" class="link">Source</a> <a href="#v:gunfold" class="selflink">#</a></p><p class="src"><a href="#v:toConstr">toConstr</a> :: <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> -&gt; <a href="../base-4.10.0.0/Data-Data.html#t:Constr">Constr</a> <a href="../base-4.10.0.0/src/Data-Data.html#toConstr" class="link">Source</a> <a href="#v:toConstr" class="selflink">#</a></p><p class="src"><a href="#v:dataTypeOf">dataTypeOf</a> :: <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> -&gt; <a href="../base-4.10.0.0/Data-Data.html#t:DataType">DataType</a> <a href="../base-4.10.0.0/src/Data-Data.html#dataTypeOf" class="link">Source</a> <a href="#v:dataTypeOf" class="selflink">#</a></p><p class="src"><a href="#v:dataCast1">dataCast1</a> :: <a href="../base-4.10.0.0/Type-Reflection.html#t:Typeable">Typeable</a> (<a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a>) t =&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; c (t d)) -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (c <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a>) <a href="../base-4.10.0.0/src/Data-Data.html#dataCast1" class="link">Source</a> <a href="#v:dataCast1" class="selflink">#</a></p><p class="src"><a href="#v:dataCast2">dataCast2</a> :: <a href="../base-4.10.0.0/Type-Reflection.html#t:Typeable">Typeable</a> (<a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a>) t =&gt; (<span class="keyword">forall</span> d e. (<a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d, <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> e) =&gt; c (t d e)) -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (c <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a>) <a href="../base-4.10.0.0/src/Data-Data.html#dataCast2" class="link">Source</a> <a href="#v:dataCast2" class="selflink">#</a></p><p class="src"><a href="#v:gmapT">gmapT</a> :: (<span class="keyword">forall</span> b. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> b =&gt; b -&gt; b) -&gt; <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> -&gt; <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> <a href="../base-4.10.0.0/src/Data-Data.html#gmapT" class="link">Source</a> <a href="#v:gmapT" class="selflink">#</a></p><p class="src"><a href="#v:gmapQl">gmapQl</a> :: (r -&gt; r' -&gt; r) -&gt; r -&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; r') -&gt; <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> -&gt; r <a href="../base-4.10.0.0/src/Data-Data.html#gmapQl" class="link">Source</a> <a href="#v:gmapQl" class="selflink">#</a></p><p class="src"><a href="#v:gmapQr">gmapQr</a> :: (r' -&gt; r -&gt; r) -&gt; r -&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; r') -&gt; <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> -&gt; r <a href="../base-4.10.0.0/src/Data-Data.html#gmapQr" class="link">Source</a> <a href="#v:gmapQr" class="selflink">#</a></p><p class="src"><a href="#v:gmapQ">gmapQ</a> :: (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; u) -&gt; <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> -&gt; [u] <a href="../base-4.10.0.0/src/Data-Data.html#gmapQ" class="link">Source</a> <a href="#v:gmapQ" class="selflink">#</a></p><p class="src"><a href="#v:gmapQi">gmapQi</a> :: <a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a> -&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; u) -&gt; <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> -&gt; u <a href="../base-4.10.0.0/src/Data-Data.html#gmapQi" class="link">Source</a> <a href="#v:gmapQi" class="selflink">#</a></p><p class="src"><a href="#v:gmapM">gmapM</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; m d) -&gt; <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> -&gt; m <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> <a href="../base-4.10.0.0/src/Data-Data.html#gmapM" class="link">Source</a> <a href="#v:gmapM" class="selflink">#</a></p><p class="src"><a href="#v:gmapMp">gmapMp</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:MonadPlus">MonadPlus</a> m =&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; m d) -&gt; <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> -&gt; m <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> <a href="../base-4.10.0.0/src/Data-Data.html#gmapMp" class="link">Source</a> <a href="#v:gmapMp" class="selflink">#</a></p><p class="src"><a href="#v:gmapMo">gmapMo</a> :: <a href="../base-4.10.0.0/Control-Monad.html#t:MonadPlus">MonadPlus</a> m =&gt; (<span class="keyword">forall</span> d. <a href="../base-4.10.0.0/Data-Data.html#t:Data">Data</a> d =&gt; d -&gt; m d) -&gt; <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> -&gt; m <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> <a href="../base-4.10.0.0/src/Data-Data.html#gmapMo" class="link">Source</a> <a href="#v:gmapMo" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:IsOrphan:Binary:2" class="instance expander" onclick="toggleSection('i:id:IsOrphan:Binary:2')"></span> <a href="Binary.html#t:Binary">Binary</a> <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a></span> <a href="#t:IsOrphan" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:IsOrphan:Binary:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:put_">put_</a> :: <a href="Binary.html#t:BinHandle">BinHandle</a> -&gt; <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> -&gt; <a href="../base-4.10.0.0/System-IO.html#t:IO">IO</a> () <a href="src/Binary.html#put_" class="link">Source</a> <a href="#v:put_" class="selflink">#</a></p><p class="src"><a href="#v:put">put</a> :: <a href="Binary.html#t:BinHandle">BinHandle</a> -&gt; <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> -&gt; <a href="../base-4.10.0.0/System-IO.html#t:IO">IO</a> (<a href="Binary.html#t:Bin">Bin</a> <a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a> <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a>) <a href="src/Binary.html#put" class="link">Source</a> <a href="#v:put" class="selflink">#</a></p><p class="src"><a href="#v:get">get</a> :: <a href="Binary.html#t:BinHandle">BinHandle</a> -&gt; <a href="../base-4.10.0.0/System-IO.html#t:IO">IO</a> <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> <a href="src/Binary.html#get" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:isOrphan" class="def">isOrphan</a> :: <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#isOrphan" class="link">Source</a> <a href="#v:isOrphan" class="selflink">#</a></p><div class="doc"><p>Returns true if <code><a href="CoreSyn.html#t:IsOrphan">IsOrphan</a></code> is orphan.</p></div></div><div class="top"><p class="src"><a id="v:notOrphan" class="def">notOrphan</a> :: <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#notOrphan" class="link">Source</a> <a href="#v:notOrphan" class="selflink">#</a></p><div class="doc"><p>Returns true if <code><a href="CoreSyn.html#t:IsOrphan">IsOrphan</a></code> is not an orphan.</p></div></div><div class="top"><p class="src"><a id="v:chooseOrphanAnchor" class="def">chooseOrphanAnchor</a> :: <a href="NameSet.html#t:NameSet">NameSet</a> -&gt; <a href="CoreSyn.html#t:IsOrphan">IsOrphan</a> <a href="src/CoreSyn.html#chooseOrphanAnchor" class="link">Source</a> <a href="#v:chooseOrphanAnchor" class="selflink">#</a></p></div><h1 id="g:13">Core rule data types</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:CoreRule" class="def">CoreRule</a> <a href="src/CoreSyn.html#CoreRule" class="link">Source</a> <a href="#t:CoreRule" class="selflink">#</a></p><div class="doc"><p>A <code><a href="CoreSyn.html#t:CoreRule">CoreRule</a></code> is:</p><ul><li>&quot;Local&quot; if the function it is a rule for is defined in the
   same module as the rule itself.</li><li>&quot;Orphan&quot; if nothing on the LHS is defined in the same module
   as the rule itself</li></ul></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Rule" class="def">Rule</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:ru_name" class="def">ru_name</a> :: <a href="CoreSyn.html#t:RuleName">RuleName</a></dfn><div class="doc"><p>Name of the rule, for communication with the user</p></div></li><li><dfn class="src"><a id="v:ru_act" class="def">ru_act</a> :: <a href="BasicTypes.html#t:Activation">Activation</a></dfn><div class="doc"><p>When the rule is active</p></div></li><li><dfn class="src"><a id="v:ru_fn" class="def">ru_fn</a> :: <a href="Name.html#t:Name">Name</a></dfn><div class="doc"><p>Name of the <code><a href="Id.html#v:Id">Id</a></code> at the head of this rule</p></div></li><li><dfn class="src"><a id="v:ru_rough" class="def">ru_rough</a> :: [<a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Name.html#t:Name">Name</a>]</dfn><div class="doc"><p>Name at the head of each argument to the left hand side</p></div></li><li><dfn class="src"><a id="v:ru_bndrs" class="def">ru_bndrs</a> :: [<a href="CoreSyn.html#t:CoreBndr">CoreBndr</a>]</dfn><div class="doc"><p>Variables quantified over</p></div></li><li><dfn class="src"><a id="v:ru_args" class="def">ru_args</a> :: [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>]</dfn><div class="doc"><p>Left hand side arguments</p></div></li><li><dfn class="src"><a id="v:ru_rhs" class="def">ru_rhs</a> :: <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></dfn><div class="doc"><p>Right hand side of the rule
 Occurrence info is guaranteed correct
 See Note [OccInfo in unfoldings and rules]</p></div></li><li><dfn class="src"><a id="v:ru_auto" class="def">ru_auto</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></dfn><div class="doc"><p><code>True</code>  <a href="=">=</a> this rule is auto-generated
               (notably by Specialise or SpecConstr)
   <code>False</code> <a href="=">=</a> generated at the user's behest
 See Note [Trimming auto-rules] in TidyPgm
 for the sole purpose of this field.</p></div></li><li><dfn class="src"><a id="v:ru_origin" class="def">ru_origin</a> :: !<a href="Module.html#t:Module">Module</a></dfn><div class="doc"><p><code><a href="Module.html#t:Module">Module</a></code> the rule was defined in, used
 to test if we should see an orphan rule.</p></div></li><li><dfn class="src"><a id="v:ru_orphan" class="def">ru_orphan</a> :: !<a href="CoreSyn.html#t:IsOrphan">IsOrphan</a></dfn><div class="doc"><p>Whether or not the rule is an orphan.</p></div></li><li><dfn class="src"><a id="v:ru_local" class="def">ru_local</a> :: <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></dfn><div class="doc"><p><code>True</code> iff the fn at the head of the rule is
 defined in the same module as the rule
 and is not an implicit <code><a href="Var.html#t:Id">Id</a></code> (like a record selector,
 class operation, or data constructor).  This
 is different from <code><a href="CoreSyn.html#v:ru_orphan">ru_orphan</a></code>, where a rule
 can avoid being an orphan if *any* Name in
 LHS of the rule was defined in the same
 module as the rule.</p></div></li></ul></div></td></tr><tr><td class="src"><a id="v:BuiltinRule" class="def">BuiltinRule</a></td><td class="doc"><p>Built-in rules are used for constant folding
 and suchlike.  They have no free variables.
 A built-in rule is always visible (there is no such thing as
 an orphan built-in rule.)</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:ru_name" class="def">ru_name</a> :: <a href="CoreSyn.html#t:RuleName">RuleName</a></dfn><div class="doc"><p>Name of the rule, for communication with the user</p></div></li><li><dfn class="src"><a id="v:ru_fn" class="def">ru_fn</a> :: <a href="Name.html#t:Name">Name</a></dfn><div class="doc"><p>Name of the <code><a href="Id.html#v:Id">Id</a></code> at the head of this rule</p></div></li><li><dfn class="src"><a id="v:ru_nargs" class="def">ru_nargs</a> :: <a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a></dfn><div class="doc"><p>Number of arguments that <code><a href="CoreSyn.html#v:ru_try">ru_try</a></code> consumes,
 if it fires, including type arguments</p></div></li><li><dfn class="src"><a id="v:ru_try" class="def">ru_try</a> :: <a href="CoreSyn.html#t:RuleFun">RuleFun</a></dfn><div class="doc"><p>This function does the rewrite.  It given too many
 arguments, it simply discards them; the returned <code><a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></code>
 is just the rewrite of <code><a href="CoreSyn.html#v:ru_fn">ru_fn</a></code> applied to the first <code><a href="CoreSyn.html#v:ru_nargs">ru_nargs</a></code> args</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:RuleBase" class="def">RuleBase</a> = <a href="NameEnv.html#t:NameEnv">NameEnv</a> [<a href="CoreSyn.html#t:CoreRule">CoreRule</a>] <a href="src/CoreSyn.html#RuleBase" class="link">Source</a> <a href="#t:RuleBase" class="selflink">#</a></p><div class="doc"><p>Gathers a collection of <code><a href="CoreSyn.html#t:CoreRule">CoreRule</a></code>s. Maps (the name of) an <code><a href="Var.html#t:Id">Id</a></code> to its rules</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:RuleName" class="def">RuleName</a> = <a href="FastString.html#t:FastString">FastString</a> <a href="src/BasicTypes.html#RuleName" class="link">Source</a> <a href="#t:RuleName" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:RuleFun" class="def">RuleFun</a> = <a href="DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="CoreSyn.html#t:InScopeEnv">InScopeEnv</a> -&gt; <a href="Var.html#t:Id">Id</a> -&gt; [<a href="CoreSyn.html#t:CoreExpr">CoreExpr</a>] -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a> <a href="src/CoreSyn.html#RuleFun" class="link">Source</a> <a href="#t:RuleFun" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:IdUnfoldingFun" class="def">IdUnfoldingFun</a> = <a href="Var.html#t:Id">Id</a> -&gt; <a href="CoreSyn.html#t:Unfolding">Unfolding</a> <a href="src/CoreSyn.html#IdUnfoldingFun" class="link">Source</a> <a href="#t:IdUnfoldingFun" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:InScopeEnv" class="def">InScopeEnv</a> = (<a href="VarEnv.html#t:InScopeSet">InScopeSet</a>, <a href="CoreSyn.html#t:IdUnfoldingFun">IdUnfoldingFun</a>) <a href="src/CoreSyn.html#InScopeEnv" class="link">Source</a> <a href="#t:InScopeEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:RuleEnv" class="def">RuleEnv</a> <a href="src/CoreSyn.html#RuleEnv" class="link">Source</a> <a href="#t:RuleEnv" class="selflink">#</a></p><div class="doc"><p>A full rule environment which we can apply rules from.  Like a <code><a href="CoreSyn.html#t:RuleBase">RuleBase</a></code>,
 but it also includes the set of visible orphans we use to filter out orphan
 rules which are not visible (even though we can see them...)</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:RuleEnv" class="def">RuleEnv</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:re_base" class="def">re_base</a> :: <a href="CoreSyn.html#t:RuleBase">RuleBase</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:re_visible_orphs" class="def">re_visible_orphs</a> :: <a href="Module.html#t:ModuleSet">ModuleSet</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:mkRuleEnv" class="def">mkRuleEnv</a> :: <a href="CoreSyn.html#t:RuleBase">RuleBase</a> -&gt; [<a href="Module.html#t:Module">Module</a>] -&gt; <a href="CoreSyn.html#t:RuleEnv">RuleEnv</a> <a href="src/CoreSyn.html#mkRuleEnv" class="link">Source</a> <a href="#v:mkRuleEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:emptyRuleEnv" class="def">emptyRuleEnv</a> :: <a href="CoreSyn.html#t:RuleEnv">RuleEnv</a> <a href="src/CoreSyn.html#emptyRuleEnv" class="link">Source</a> <a href="#v:emptyRuleEnv" class="selflink">#</a></p></div><h2 id="g:14">Operations on <code><a href="CoreSyn.html#t:CoreRule">CoreRule</a></code>s</h2><div class="top"><p class="src"><a id="v:ruleArity" class="def">ruleArity</a> :: <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; <a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a> <a href="src/CoreSyn.html#ruleArity" class="link">Source</a> <a href="#v:ruleArity" class="selflink">#</a></p><div class="doc"><p>The number of arguments the <code><a href="CoreSyn.html#v:ru_fn">ru_fn</a></code> must be applied
 to before the rule can match on it</p></div></div><div class="top"><p class="src"><a id="v:ruleName" class="def">ruleName</a> :: <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; <a href="CoreSyn.html#t:RuleName">RuleName</a> <a href="src/CoreSyn.html#ruleName" class="link">Source</a> <a href="#v:ruleName" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ruleIdName" class="def">ruleIdName</a> :: <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; <a href="Name.html#t:Name">Name</a> <a href="src/CoreSyn.html#ruleIdName" class="link">Source</a> <a href="#v:ruleIdName" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Name.html#t:Name">Name</a></code> of the <code><a href="Id.html#v:Id">Id</a></code> at the head of the rule left hand side</p></div></div><div class="top"><p class="src"><a id="v:ruleActivation" class="def">ruleActivation</a> :: <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; <a href="BasicTypes.html#t:Activation">Activation</a> <a href="src/CoreSyn.html#ruleActivation" class="link">Source</a> <a href="#v:ruleActivation" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:setRuleIdName" class="def">setRuleIdName</a> :: <a href="Name.html#t:Name">Name</a> -&gt; <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; <a href="CoreSyn.html#t:CoreRule">CoreRule</a> <a href="src/CoreSyn.html#setRuleIdName" class="link">Source</a> <a href="#v:setRuleIdName" class="selflink">#</a></p><div class="doc"><p>Set the <code><a href="Name.html#t:Name">Name</a></code> of the <code><a href="Id.html#v:Id">Id</a></code> at the head of the rule left hand side</p></div></div><div class="top"><p class="src"><a id="v:ruleModule" class="def">ruleModule</a> :: <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Module.html#t:Module">Module</a> <a href="src/CoreSyn.html#ruleModule" class="link">Source</a> <a href="#v:ruleModule" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isBuiltinRule" class="def">isBuiltinRule</a> :: <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#isBuiltinRule" class="link">Source</a> <a href="#v:isBuiltinRule" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isLocalRule" class="def">isLocalRule</a> :: <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#isLocalRule" class="link">Source</a> <a href="#v:isLocalRule" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isAutoRule" class="def">isAutoRule</a> :: <a href="CoreSyn.html#t:CoreRule">CoreRule</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/CoreSyn.html#isAutoRule" class="link">Source</a> <a href="#v:isAutoRule" class="selflink">#</a></p></div><h1 id="g:15">Core vectorisation declarations data type</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:CoreVect" class="def">CoreVect</a> <a href="src/CoreSyn.html#CoreVect" class="link">Source</a> <a href="#t:CoreVect" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Vect" class="def">Vect</a> <a href="Var.html#t:Id">Id</a> <a href="CoreSyn.html#t:CoreExpr">CoreExpr</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:NoVect" class="def">NoVect</a> <a href="Var.html#t:Id">Id</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:VectType" class="def">VectType</a> <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="TyCon.html#t:TyCon">TyCon</a> (<a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="TyCon.html#t:TyCon">TyCon</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:VectClass" class="def">VectClass</a> <a href="TyCon.html#t:TyCon">TyCon</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:VectInst" class="def">VectInst</a> <a href="Var.html#t:Id">Id</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.2</p></div></body></html>