<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Vectorise.Monad.Base</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Vectorise-Monad-Base.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ghc-8.3: The GHC API</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Vectorise.Monad.Base</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">The Vectorisation Monad</a></li><li><a href="#g:2">Lifting</a></li><li><a href="#g:3">Error Handling</a></li><li><a href="#g:4">Debugging</a></li><li><a href="#g:5">Control</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>The Vectorisation monad.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:VResult">VResult</a> a<ul class="subs"><li>= <a href="#v:Yes">Yes</a> <a href="Vectorise-Env.html#t:GlobalEnv">GlobalEnv</a> <a href="Vectorise-Env.html#t:LocalEnv">LocalEnv</a> a</li><li>| <a href="#v:No">No</a> <a href="Outputable.html#t:SDoc">SDoc</a></li></ul></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:VM">VM</a> a = <a href="#v:VM">VM</a> {<ul class="subs"><li><a href="#v:runVM">runVM</a> :: <a href="Vectorise-Builtins-Base.html#t:Builtins">Builtins</a> -&gt; <a href="Vectorise-Env.html#t:GlobalEnv">GlobalEnv</a> -&gt; <a href="Vectorise-Env.html#t:LocalEnv">LocalEnv</a> -&gt; <a href="TcRnTypes.html#t:DsM">DsM</a> (<a href="Vectorise-Monad-Base.html#t:VResult">VResult</a> a)</li></ul>}</li><li class="src short"><a href="#v:liftDs">liftDs</a> :: <a href="TcRnTypes.html#t:DsM">DsM</a> a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a</li><li class="src short"><a href="#v:cantVectorise">cantVectorise</a> :: <a href="DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; a</li><li class="src short"><a href="#v:maybeCantVectorise">maybeCantVectorise</a> :: <a href="DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> a -&gt; a</li><li class="src short"><a href="#v:maybeCantVectoriseM">maybeCantVectoriseM</a> :: (<a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> m, <a href="DynFlags.html#t:HasDynFlags">HasDynFlags</a> m) =&gt; <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; m (<a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> a) -&gt; m a</li><li class="src short"><a href="#v:emitVt">emitVt</a> :: <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> ()</li><li class="src short"><a href="#v:traceVt">traceVt</a> :: <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> ()</li><li class="src short"><a href="#v:dumpOptVt">dumpOptVt</a> :: <a href="DynFlags.html#t:DumpFlag">DumpFlag</a> -&gt; <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> ()</li><li class="src short"><a href="#v:dumpVt">dumpVt</a> :: <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> ()</li><li class="src short"><a href="#v:noV">noV</a> :: <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a</li><li class="src short"><a href="#v:traceNoV">traceNoV</a> :: <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a</li><li class="src short"><a href="#v:ensureV">ensureV</a> :: <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> ()</li><li class="src short"><a href="#v:traceEnsureV">traceEnsureV</a> :: <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> ()</li><li class="src short"><a href="#v:onlyIfV">onlyIfV</a> :: <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a</li><li class="src short"><a href="#v:tryV">tryV</a> :: <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> (<a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:tryErrV">tryErrV</a> :: <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> (<a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:maybeV">maybeV</a> :: <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> (<a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> a) -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a</li><li class="src short"><a href="#v:traceMaybeV">traceMaybeV</a> :: <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> (<a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> a) -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a</li><li class="src short"><a href="#v:orElseV">orElseV</a> :: <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a</li><li class="src short"><a href="#v:orElseErrV">orElseErrV</a> :: <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a</li><li class="src short"><a href="#v:fixV">fixV</a> :: (a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a) -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a</li></ul></div><div id="interface"><h1 id="g:1">The Vectorisation Monad</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:VResult" class="def">VResult</a> a <a href="src/Vectorise-Monad-Base.html#VResult" class="link">Source</a> <a href="#t:VResult" class="selflink">#</a></p><div class="doc"><p>Vectorisation can either succeed with new envionment and a value, or return with failure
 (including a description of the reason for failure).</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Yes" class="def">Yes</a> <a href="Vectorise-Env.html#t:GlobalEnv">GlobalEnv</a> <a href="Vectorise-Env.html#t:LocalEnv">LocalEnv</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:No" class="def">No</a> <a href="Outputable.html#t:SDoc">SDoc</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:VM" class="def">VM</a> a <a href="src/Vectorise-Monad-Base.html#VM" class="link">Source</a> <a href="#t:VM" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:VM" class="def">VM</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:runVM" class="def">runVM</a> :: <a href="Vectorise-Builtins-Base.html#t:Builtins">Builtins</a> -&gt; <a href="Vectorise-Env.html#t:GlobalEnv">GlobalEnv</a> -&gt; <a href="Vectorise-Env.html#t:LocalEnv">LocalEnv</a> -&gt; <a href="TcRnTypes.html#t:DsM">DsM</a> (<a href="Vectorise-Monad-Base.html#t:VResult">VResult</a> a)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:VM" class="caption collapser" onclick="toggleSection('i:VM')">Instances</p><div id="section.i:VM" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:VM:Monad:1" class="instance expander" onclick="toggleSection('i:id:VM:Monad:1')"></span> <a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> <a href="Vectorise-Monad-Base.html#t:VM">VM</a></span> <a href="#t:VM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:VM:Monad:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a -&gt; (a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> b) -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> b <a href="../base-4.10.0.0/src/GHC-Base.html#%3E%3E%3D" class="link">Source</a> <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> b -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> b <a href="../base-4.10.0.0/src/GHC-Base.html#%3E%3E" class="link">Source</a> <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a <a href="../base-4.10.0.0/src/GHC-Base.html#return" class="link">Source</a> <a href="#v:return" class="selflink">#</a></p><p class="src"><a href="#v:fail">fail</a> :: <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a <a href="../base-4.10.0.0/src/GHC-Base.html#fail" class="link">Source</a> <a href="#v:fail" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:VM:Functor:2" class="instance expander" onclick="toggleSection('i:id:VM:Functor:2')"></span> <a href="../base-4.10.0.0/Data-Functor.html#t:Functor">Functor</a> <a href="Vectorise-Monad-Base.html#t:VM">VM</a></span> <a href="#t:VM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:VM:Functor:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> b <a href="../base-4.10.0.0/src/GHC-Base.html#fmap" class="link">Source</a> <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> b -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a <a href="../base-4.10.0.0/src/GHC-Base.html#%3C%24" class="link">Source</a> <a href="#v:-60--36-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:VM:Applicative:3" class="instance expander" onclick="toggleSection('i:id:VM:Applicative:3')"></span> <a href="MonadUtils.html#t:Applicative">Applicative</a> <a href="Vectorise-Monad-Base.html#t:VM">VM</a></span> <a href="#t:VM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:VM:Applicative:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a <a href="../base-4.10.0.0/src/GHC-Base.html#pure" class="link">Source</a> <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="Vectorise-Monad-Base.html#t:VM">VM</a> (a -&gt; b) -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> b <a href="../base-4.10.0.0/src/GHC-Base.html#%3C%2A%3E" class="link">Source</a> <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> b -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> c <a href="../base-4.10.0.0/src/GHC-Base.html#liftA2" class="link">Source</a> <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> b -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> b <a href="../base-4.10.0.0/src/GHC-Base.html#%2A%3E" class="link">Source</a> <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> b -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a <a href="../base-4.10.0.0/src/GHC-Base.html#%3C%2A" class="link">Source</a> <a href="#v:-60--42-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:VM:MonadIO:4" class="instance expander" onclick="toggleSection('i:id:VM:MonadIO:4')"></span> <a href="MonadUtils.html#t:MonadIO">MonadIO</a> <a href="Vectorise-Monad-Base.html#t:VM">VM</a></span> <a href="#t:VM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:VM:MonadIO:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftIO">liftIO</a> :: <a href="../base-4.10.0.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a <a href="../base-4.10.0.0/src/Control-Monad-IO-Class.html#liftIO" class="link">Source</a> <a href="#v:liftIO" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:VM:HasDynFlags:5" class="instance expander" onclick="toggleSection('i:id:VM:HasDynFlags:5')"></span> <a href="DynFlags.html#t:HasDynFlags">HasDynFlags</a> <a href="Vectorise-Monad-Base.html#t:VM">VM</a></span> <a href="#t:VM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:VM:HasDynFlags:5" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getDynFlags">getDynFlags</a> :: <a href="Vectorise-Monad-Base.html#t:VM">VM</a> <a href="DynFlags.html#t:DynFlags">DynFlags</a> <a href="src/DynFlags.html#getDynFlags" class="link">Source</a> <a href="#v:getDynFlags" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><h1 id="g:2">Lifting</h1><div class="top"><p class="src"><a id="v:liftDs" class="def">liftDs</a> :: <a href="TcRnTypes.html#t:DsM">DsM</a> a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a <a href="src/Vectorise-Monad-Base.html#liftDs" class="link">Source</a> <a href="#v:liftDs" class="selflink">#</a></p><div class="doc"><p>Lift a desugaring computation into the vectorisation monad.</p></div></div><h1 id="g:3">Error Handling</h1><div class="top"><p class="src"><a id="v:cantVectorise" class="def">cantVectorise</a> :: <a href="DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; a <a href="src/Vectorise-Monad-Base.html#cantVectorise" class="link">Source</a> <a href="#v:cantVectorise" class="selflink">#</a></p><div class="doc"><p>Throw a <code><a href="Panic.html#v:pgmError">pgmError</a></code> saying we can't vectorise something.</p></div></div><div class="top"><p class="src"><a id="v:maybeCantVectorise" class="def">maybeCantVectorise</a> :: <a href="DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> a -&gt; a <a href="src/Vectorise-Monad-Base.html#maybeCantVectorise" class="link">Source</a> <a href="#v:maybeCantVectorise" class="selflink">#</a></p><div class="doc"><p>Like <code>fromJust</code>, but <code><a href="Panic.html#v:pgmError">pgmError</a></code> on Nothing.</p></div></div><div class="top"><p class="src"><a id="v:maybeCantVectoriseM" class="def">maybeCantVectoriseM</a> :: (<a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a> m, <a href="DynFlags.html#t:HasDynFlags">HasDynFlags</a> m) =&gt; <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; m (<a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> a) -&gt; m a <a href="src/Vectorise-Monad-Base.html#maybeCantVectoriseM" class="link">Source</a> <a href="#v:maybeCantVectoriseM" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Vectorise-Monad-Base.html#v:maybeCantVectorise">maybeCantVectorise</a></code> but in a <code><a href="../base-4.10.0.0/Control-Monad.html#t:Monad">Monad</a></code>.</p></div></div><h1 id="g:4">Debugging</h1><div class="top"><p class="src"><a id="v:emitVt" class="def">emitVt</a> :: <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> () <a href="src/Vectorise-Monad-Base.html#emitVt" class="link">Source</a> <a href="#v:emitVt" class="selflink">#</a></p><div class="doc"><p>Output a trace message if -ddump-vt-trace is active.</p></div></div><div class="top"><p class="src"><a id="v:traceVt" class="def">traceVt</a> :: <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> () <a href="src/Vectorise-Monad-Base.html#traceVt" class="link">Source</a> <a href="#v:traceVt" class="selflink">#</a></p><div class="doc"><p>Output a trace message if -ddump-vt-trace is active.</p></div></div><div class="top"><p class="src"><a id="v:dumpOptVt" class="def">dumpOptVt</a> :: <a href="DynFlags.html#t:DumpFlag">DumpFlag</a> -&gt; <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> () <a href="src/Vectorise-Monad-Base.html#dumpOptVt" class="link">Source</a> <a href="#v:dumpOptVt" class="selflink">#</a></p><div class="doc"><p>Dump the given program conditionally.</p></div></div><div class="top"><p class="src"><a id="v:dumpVt" class="def">dumpVt</a> :: <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> () <a href="src/Vectorise-Monad-Base.html#dumpVt" class="link">Source</a> <a href="#v:dumpVt" class="selflink">#</a></p><div class="doc"><p>Dump the given program unconditionally.</p></div></div><h1 id="g:5">Control</h1><div class="top"><p class="src"><a id="v:noV" class="def">noV</a> :: <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a <a href="src/Vectorise-Monad-Base.html#noV" class="link">Source</a> <a href="#v:noV" class="selflink">#</a></p><div class="doc"><p>Return some result saying we've failed.</p></div></div><div class="top"><p class="src"><a id="v:traceNoV" class="def">traceNoV</a> :: <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a <a href="src/Vectorise-Monad-Base.html#traceNoV" class="link">Source</a> <a href="#v:traceNoV" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Vectorise-Monad-Base.html#v:traceNoV">traceNoV</a></code> but also emit some trace message to stderr.</p></div></div><div class="top"><p class="src"><a id="v:ensureV" class="def">ensureV</a> :: <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> () <a href="src/Vectorise-Monad-Base.html#ensureV" class="link">Source</a> <a href="#v:ensureV" class="selflink">#</a></p><div class="doc"><p>If <code><a href="../base-4.10.0.0/Data-Bool.html#v:True">True</a></code> then carry on, otherwise fail.</p></div></div><div class="top"><p class="src"><a id="v:traceEnsureV" class="def">traceEnsureV</a> :: <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> () <a href="src/Vectorise-Monad-Base.html#traceEnsureV" class="link">Source</a> <a href="#v:traceEnsureV" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Vectorise-Monad-Base.html#v:ensureV">ensureV</a></code> but if we fail then emit some trace message to stderr.</p></div></div><div class="top"><p class="src"><a id="v:onlyIfV" class="def">onlyIfV</a> :: <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a <a href="src/Vectorise-Monad-Base.html#onlyIfV" class="link">Source</a> <a href="#v:onlyIfV" class="selflink">#</a></p><div class="doc"><p>If <code><a href="../base-4.10.0.0/Data-Bool.html#v:True">True</a></code> then return the first argument, otherwise fail.</p></div></div><div class="top"><p class="src"><a id="v:tryV" class="def">tryV</a> :: <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> (<a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> a) <a href="src/Vectorise-Monad-Base.html#tryV" class="link">Source</a> <a href="#v:tryV" class="selflink">#</a></p><div class="doc"><p>Try some vectorisation computaton.</p><p>If it succeeds then return <code><a href="../base-4.10.0.0/Data-Maybe.html#v:Just">Just</a></code> the result; otherwise, return <code><a href="../base-4.10.0.0/Data-Maybe.html#v:Nothing">Nothing</a></code> without emitting a
 failure message.</p></div></div><div class="top"><p class="src"><a id="v:tryErrV" class="def">tryErrV</a> :: <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> (<a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> a) <a href="src/Vectorise-Monad-Base.html#tryErrV" class="link">Source</a> <a href="#v:tryErrV" class="selflink">#</a></p><div class="doc"><p>Try some vectorisation computaton.</p><p>If it succeeds then return <code><a href="../base-4.10.0.0/Data-Maybe.html#v:Just">Just</a></code> the result; otherwise, return <code><a href="../base-4.10.0.0/Data-Maybe.html#v:Nothing">Nothing</a></code> after emitting a
 failure message.</p></div></div><div class="top"><p class="src"><a id="v:maybeV" class="def">maybeV</a> :: <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> (<a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> a) -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a <a href="src/Vectorise-Monad-Base.html#maybeV" class="link">Source</a> <a href="#v:maybeV" class="selflink">#</a></p><div class="doc"><p>If <code><a href="../base-4.10.0.0/Data-Maybe.html#v:Just">Just</a></code> then return the value, otherwise fail.</p></div></div><div class="top"><p class="src"><a id="v:traceMaybeV" class="def">traceMaybeV</a> :: <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> (<a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> a) -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a <a href="src/Vectorise-Monad-Base.html#traceMaybeV" class="link">Source</a> <a href="#v:traceMaybeV" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Vectorise-Monad-Base.html#v:maybeV">maybeV</a></code> but emit a message to stderr if we fail.</p></div></div><div class="top"><p class="src"><a id="v:orElseV" class="def">orElseV</a> :: <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a <a href="src/Vectorise-Monad-Base.html#orElseV" class="link">Source</a> <a href="#v:orElseV" class="selflink">#</a></p><div class="doc"><p>Try the first computation,</p><ul><li>if it succeeds then take the returned value,</li><li>if it fails then run the second computation instead without emitting a failure message.</li></ul></div></div><div class="top"><p class="src"><a id="v:orElseErrV" class="def">orElseErrV</a> :: <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a <a href="src/Vectorise-Monad-Base.html#orElseErrV" class="link">Source</a> <a href="#v:orElseErrV" class="selflink">#</a></p><div class="doc"><p>Try the first computation,</p><ul><li>if it succeeds then take the returned value,</li><li>if it fails then run the second computation instead while emitting a failure message.</li></ul></div></div><div class="top"><p class="src"><a id="v:fixV" class="def">fixV</a> :: (a -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a) -&gt; <a href="Vectorise-Monad-Base.html#t:VM">VM</a> a <a href="src/Vectorise-Monad-Base.html#fixV" class="link">Source</a> <a href="#v:fixV" class="selflink">#</a></p><div class="doc"><p>Fixpoint in the vectorisation monad.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.2</p></div></body></html>