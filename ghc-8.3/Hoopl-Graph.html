<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Hoopl.Graph</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Hoopl-Graph.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ghc-8.3: The GHC API</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Hoopl.Graph</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Body">Body</a> n = <a href="Hoopl-Label.html#t:LabelMap">LabelMap</a> (<a href="Hoopl-Block.html#t:Block">Block</a> n <a href="Hoopl-Block.html#t:C">C</a> <a href="Hoopl-Block.html#t:C">C</a>)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Graph">Graph</a> = <a href="Hoopl-Graph.html#t:Graph-39-">Graph'</a> <a href="Hoopl-Block.html#t:Block">Block</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Graph-39-">Graph'</a> block (n :: <a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a>) e x <span class="keyword">where</span><ul class="subs"><li><a href="#v:GNil">GNil</a> :: <a href="Hoopl-Graph.html#t:Graph-39-">Graph'</a> block n <a href="Hoopl-Block.html#t:O">O</a> <a href="Hoopl-Block.html#t:O">O</a></li><li><a href="#v:GUnit">GUnit</a> :: block n <a href="Hoopl-Block.html#t:O">O</a> <a href="Hoopl-Block.html#t:O">O</a> -&gt; <a href="Hoopl-Graph.html#t:Graph-39-">Graph'</a> block n <a href="Hoopl-Block.html#t:O">O</a> <a href="Hoopl-Block.html#t:O">O</a></li><li><a href="#v:GMany">GMany</a> :: <a href="Hoopl-Block.html#t:MaybeO">MaybeO</a> e (block n <a href="Hoopl-Block.html#t:O">O</a> <a href="Hoopl-Block.html#t:C">C</a>) -&gt; Body' block n -&gt; <a href="Hoopl-Block.html#t:MaybeO">MaybeO</a> x (block n <a href="Hoopl-Block.html#t:C">C</a> <a href="Hoopl-Block.html#t:O">O</a>) -&gt; <a href="Hoopl-Graph.html#t:Graph-39-">Graph'</a> block n e x</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:NonLocal">NonLocal</a> thing <span class="keyword">where</span><ul class="subs"></ul></li><li class="src short"><a href="#v:addBlock">addBlock</a> :: <a href="Hoopl-Graph.html#t:NonLocal">NonLocal</a> thing =&gt; thing <a href="Hoopl-Block.html#t:C">C</a> <a href="Hoopl-Block.html#t:C">C</a> -&gt; <a href="Hoopl-Label.html#t:LabelMap">LabelMap</a> (thing <a href="Hoopl-Block.html#t:C">C</a> <a href="Hoopl-Block.html#t:C">C</a>) -&gt; <a href="Hoopl-Label.html#t:LabelMap">LabelMap</a> (thing <a href="Hoopl-Block.html#t:C">C</a> <a href="Hoopl-Block.html#t:C">C</a>)</li><li class="src short"><a href="#v:bodyList">bodyList</a> :: Body' block n -&gt; [(<a href="Hoopl-Label.html#t:Label">Label</a>, block n <a href="Hoopl-Block.html#t:C">C</a> <a href="Hoopl-Block.html#t:C">C</a>)]</li><li class="src short"><a href="#v:emptyBody">emptyBody</a> :: Body' block n</li><li class="src short"><a href="#v:labelsDefined">labelsDefined</a> :: <span class="keyword">forall</span> block n e x. <a href="Hoopl-Graph.html#t:NonLocal">NonLocal</a> (block n) =&gt; <a href="Hoopl-Graph.html#t:Graph-39-">Graph'</a> block n e x -&gt; <a href="Hoopl-Label.html#t:LabelSet">LabelSet</a></li><li class="src short"><a href="#v:mapGraph">mapGraph</a> :: (<span class="keyword">forall</span> e x. n e x -&gt; n' e x) -&gt; <a href="Hoopl-Graph.html#t:Graph">Graph</a> n e x -&gt; <a href="Hoopl-Graph.html#t:Graph">Graph</a> n' e x</li><li class="src short"><a href="#v:mapGraphBlocks">mapGraphBlocks</a> :: <span class="keyword">forall</span> block n block' n' e x. (<span class="keyword">forall</span> e x. block n e x -&gt; block' n' e x) -&gt; <a href="Hoopl-Graph.html#t:Graph-39-">Graph'</a> block n e x -&gt; <a href="Hoopl-Graph.html#t:Graph-39-">Graph'</a> block' n' e x</li><li class="src short"><a href="#v:postorder_dfs_from">postorder_dfs_from</a> :: (<a href="Hoopl-Graph.html#t:NonLocal">NonLocal</a> block, LabelsPtr b) =&gt; <a href="Hoopl-Label.html#t:LabelMap">LabelMap</a> (block <a href="Hoopl-Block.html#t:C">C</a> <a href="Hoopl-Block.html#t:C">C</a>) -&gt; b -&gt; [block <a href="Hoopl-Block.html#t:C">C</a> <a href="Hoopl-Block.html#t:C">C</a>]</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Body" class="def">Body</a> n = <a href="Hoopl-Label.html#t:LabelMap">LabelMap</a> (<a href="Hoopl-Block.html#t:Block">Block</a> n <a href="Hoopl-Block.html#t:C">C</a> <a href="Hoopl-Block.html#t:C">C</a>) <a href="src/Hoopl-Graph.html#Body" class="link">Source</a> <a href="#t:Body" class="selflink">#</a></p><div class="doc"><p>A (possibly empty) collection of closed/closed blocks</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Graph" class="def">Graph</a> = <a href="Hoopl-Graph.html#t:Graph-39-">Graph'</a> <a href="Hoopl-Block.html#t:Block">Block</a> <a href="src/Hoopl-Graph.html#Graph" class="link">Source</a> <a href="#t:Graph" class="selflink">#</a></p><div class="doc"><p>A control-flow graph, which may take any of four shapes (O/O,
 O<em>C, C</em>O, C/C).  A graph open at the entry has a single,
 distinguished, anonymous entry point; if a graph is closed at the
 entry, its entry point(s) are supplied by a context.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Graph-39-" class="def">Graph'</a> block (n :: <a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.10.0.0/Data-Kind.html#t:-42-">*</a>) e x <span class="keyword">where</span> <a href="src/Hoopl-Graph.html#Graph%27" class="link">Source</a> <a href="#t:Graph-39-" class="selflink">#</a></p><div class="doc"><p><code>Graph'</code> is abstracted over the block type, so that we can build
 graphs of annotated blocks for example (Compiler.Hoopl.Dataflow
 needs this).</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:GNil" class="def">GNil</a> :: <a href="Hoopl-Graph.html#t:Graph-39-">Graph'</a> block n <a href="Hoopl-Block.html#t:O">O</a> <a href="Hoopl-Block.html#t:O">O</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:GUnit" class="def">GUnit</a> :: block n <a href="Hoopl-Block.html#t:O">O</a> <a href="Hoopl-Block.html#t:O">O</a> -&gt; <a href="Hoopl-Graph.html#t:Graph-39-">Graph'</a> block n <a href="Hoopl-Block.html#t:O">O</a> <a href="Hoopl-Block.html#t:O">O</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:GMany" class="def">GMany</a> :: <a href="Hoopl-Block.html#t:MaybeO">MaybeO</a> e (block n <a href="Hoopl-Block.html#t:O">O</a> <a href="Hoopl-Block.html#t:C">C</a>) -&gt; Body' block n -&gt; <a href="Hoopl-Block.html#t:MaybeO">MaybeO</a> x (block n <a href="Hoopl-Block.html#t:C">C</a> <a href="Hoopl-Block.html#t:O">O</a>) -&gt; <a href="Hoopl-Graph.html#t:Graph-39-">Graph'</a> block n e x</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:NonLocal" class="def">NonLocal</a> thing <span class="keyword">where</span> <a href="src/Hoopl-Graph.html#NonLocal" class="link">Source</a> <a href="#t:NonLocal" class="selflink">#</a></p><div class="doc"><p>Gives access to the anchor points for
 nonlocal edges as well as the edges themselves</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Hoopl-Graph.html#v:entryLabel">entryLabel</a>, <a href="Hoopl-Graph.html#v:successors">successors</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:entryLabel" class="def">entryLabel</a> <a href="src/Hoopl-Graph.html#entryLabel" class="link">Source</a> <a href="#v:entryLabel" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: thing <a href="Hoopl-Block.html#t:C">C</a> x</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Hoopl-Label.html#t:Label">Label</a></td><td class="doc"><p>The label of a first node or block</p></td></tr></table></div><p class="src"><a id="v:successors" class="def">successors</a> <a href="src/Hoopl-Graph.html#successors" class="link">Source</a> <a href="#v:successors" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: thing e <a href="Hoopl-Block.html#t:C">C</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; [<a href="Hoopl-Label.html#t:Label">Label</a>]</td><td class="doc"><p>Gives control-flow successors</p></td></tr></table></div></div><div class="subs instances"><p id="control.i:NonLocal" class="caption collapser" onclick="toggleSection('i:NonLocal')">Instances</p><div id="section.i:NonLocal" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:NonLocal:NonLocal:1" class="instance expander" onclick="toggleSection('i:ic:NonLocal:NonLocal:1')"></span> <a href="Hoopl-Graph.html#t:NonLocal">NonLocal</a> <a href="CmmNode.html#t:CmmNode">CmmNode</a></span> <a href="#t:NonLocal" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:NonLocal:NonLocal:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:entryLabel">entryLabel</a> :: <a href="CmmNode.html#t:CmmNode">CmmNode</a> <a href="Hoopl-Block.html#t:C">C</a> x -&gt; <a href="Hoopl-Label.html#t:Label">Label</a> <a href="src/Hoopl-Graph.html#entryLabel" class="link">Source</a> <a href="#v:entryLabel" class="selflink">#</a></p><p class="src"><a href="#v:successors">successors</a> :: <a href="CmmNode.html#t:CmmNode">CmmNode</a> e <a href="Hoopl-Block.html#t:C">C</a> -&gt; [<a href="Hoopl-Label.html#t:Label">Label</a>] <a href="src/Hoopl-Graph.html#successors" class="link">Source</a> <a href="#v:successors" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:NonLocal:NonLocal:2" class="instance expander" onclick="toggleSection('i:ic:NonLocal:NonLocal:2')"></span> <a href="Hoopl-Graph.html#t:NonLocal">NonLocal</a> n =&gt; <a href="Hoopl-Graph.html#t:NonLocal">NonLocal</a> (<a href="Hoopl-Block.html#t:Block">Block</a> n)</span> <a href="#t:NonLocal" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:NonLocal:NonLocal:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:entryLabel">entryLabel</a> :: <a href="Hoopl-Block.html#t:Block">Block</a> n <a href="Hoopl-Block.html#t:C">C</a> x -&gt; <a href="Hoopl-Label.html#t:Label">Label</a> <a href="src/Hoopl-Graph.html#entryLabel" class="link">Source</a> <a href="#v:entryLabel" class="selflink">#</a></p><p class="src"><a href="#v:successors">successors</a> :: <a href="Hoopl-Block.html#t:Block">Block</a> n e <a href="Hoopl-Block.html#t:C">C</a> -&gt; [<a href="Hoopl-Label.html#t:Label">Label</a>] <a href="src/Hoopl-Graph.html#successors" class="link">Source</a> <a href="#v:successors" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:addBlock" class="def">addBlock</a> :: <a href="Hoopl-Graph.html#t:NonLocal">NonLocal</a> thing =&gt; thing <a href="Hoopl-Block.html#t:C">C</a> <a href="Hoopl-Block.html#t:C">C</a> -&gt; <a href="Hoopl-Label.html#t:LabelMap">LabelMap</a> (thing <a href="Hoopl-Block.html#t:C">C</a> <a href="Hoopl-Block.html#t:C">C</a>) -&gt; <a href="Hoopl-Label.html#t:LabelMap">LabelMap</a> (thing <a href="Hoopl-Block.html#t:C">C</a> <a href="Hoopl-Block.html#t:C">C</a>) <a href="src/Hoopl-Graph.html#addBlock" class="link">Source</a> <a href="#v:addBlock" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:bodyList" class="def">bodyList</a> :: Body' block n -&gt; [(<a href="Hoopl-Label.html#t:Label">Label</a>, block n <a href="Hoopl-Block.html#t:C">C</a> <a href="Hoopl-Block.html#t:C">C</a>)] <a href="src/Hoopl-Graph.html#bodyList" class="link">Source</a> <a href="#v:bodyList" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:emptyBody" class="def">emptyBody</a> :: Body' block n <a href="src/Hoopl-Graph.html#emptyBody" class="link">Source</a> <a href="#v:emptyBody" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:labelsDefined" class="def">labelsDefined</a> :: <span class="keyword">forall</span> block n e x. <a href="Hoopl-Graph.html#t:NonLocal">NonLocal</a> (block n) =&gt; <a href="Hoopl-Graph.html#t:Graph-39-">Graph'</a> block n e x -&gt; <a href="Hoopl-Label.html#t:LabelSet">LabelSet</a> <a href="src/Hoopl-Graph.html#labelsDefined" class="link">Source</a> <a href="#v:labelsDefined" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mapGraph" class="def">mapGraph</a> :: (<span class="keyword">forall</span> e x. n e x -&gt; n' e x) -&gt; <a href="Hoopl-Graph.html#t:Graph">Graph</a> n e x -&gt; <a href="Hoopl-Graph.html#t:Graph">Graph</a> n' e x <a href="src/Hoopl-Graph.html#mapGraph" class="link">Source</a> <a href="#v:mapGraph" class="selflink">#</a></p><div class="doc"><p>Maps over all nodes in a graph.</p></div></div><div class="top"><p class="src"><a id="v:mapGraphBlocks" class="def">mapGraphBlocks</a> :: <span class="keyword">forall</span> block n block' n' e x. (<span class="keyword">forall</span> e x. block n e x -&gt; block' n' e x) -&gt; <a href="Hoopl-Graph.html#t:Graph-39-">Graph'</a> block n e x -&gt; <a href="Hoopl-Graph.html#t:Graph-39-">Graph'</a> block' n' e x <a href="src/Hoopl-Graph.html#mapGraphBlocks" class="link">Source</a> <a href="#v:mapGraphBlocks" class="selflink">#</a></p><div class="doc"><p>Function <code><a href="Hoopl-Graph.html#v:mapGraphBlocks">mapGraphBlocks</a></code> enables a change of representation of blocks,
 nodes, or both.  It lifts a polymorphic block transform into a polymorphic
 graph transform.  When the block representation stabilizes, a similar
 function should be provided for blocks.</p></div></div><div class="top"><p class="src"><a id="v:postorder_dfs_from" class="def">postorder_dfs_from</a> :: (<a href="Hoopl-Graph.html#t:NonLocal">NonLocal</a> block, LabelsPtr b) =&gt; <a href="Hoopl-Label.html#t:LabelMap">LabelMap</a> (block <a href="Hoopl-Block.html#t:C">C</a> <a href="Hoopl-Block.html#t:C">C</a>) -&gt; b -&gt; [block <a href="Hoopl-Block.html#t:C">C</a> <a href="Hoopl-Block.html#t:C">C</a>] <a href="src/Hoopl-Graph.html#postorder_dfs_from" class="link">Source</a> <a href="#v:postorder_dfs_from" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.2</p></div></body></html>